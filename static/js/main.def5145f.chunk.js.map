{"version":3,"sources":["assets/glyph-marker-icon.png","../node_modules/web3-eth-accounts/src sync","utils/getWeb3.js","context/dela-context.js","context/GlobalState.js","components/MainAppBar.js","components/ConfirmRevokeDialog.js","components/ParcelDetails.js","components/MainDrawerContainer.js","components/MainDrawer.js","components/AppSnackbar.js","components/ParcelTypeAutoList.js","components/ManageParcelDialog.js","components/MainMap.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","webpackEmptyContext","req","e","Error","code","keys","resolve","id","getWeb3","Promise","reject","window","addEventListener","a","ethereum","web3","Web3","enable","on","accounts","location","reload","console","log","provider","providers","HttpProvider","React","createContext","contractParcelReg","parcels","claimParcel","lat","lng","wkbHash","parcelArea","parcelAddressId","parcelLabel","parcelType","updateParcel","revokeParcel","parcel","updateMode","setUpdateMode","parcelToUpdate","setParcelToUpdate","manageParcelDialogOpen","openManageParcelDialog","closeManageParcelDialog","drawerOpen","toggleDrawer","GlobalState","props","claimEventBlocks","Set","revokeEventBlocks","useState","setWeb3","setAccounts","setContractParcelReg","setParcels","setDrawerOpen","useEffect","initWeb3","then","res","_web3","_accounts","_contract","events","LogParcelClaimed","fromBlock","err","eventParcelClaimed","error","LogFeatureRemoved","eventParcelRevoked","catch","eth","getAccounts","net","getId","networkId","deployedParcelReg","LAParcelRegistry","networks","Contract","abi","address","alert","h3Index","geoToH3","h3IndexHex","utils","utf8ToHex","_wkbHash","asciiToHex","area","Number","methods","send","from","result","transactionHash","contract","returnValues","blockNumber","has","add","dggsIndexExist","dggsIndex","call","fetchParcel","csc","hexToUtf8","latlng","h3ToGeo","parcelDetails","addr","lbl","owner","removeFeature","filter","getFeature","featureAddress","LAParcel","setExtAddressId","setLabel","setArea","setParcelType","list","item","push","Provider","value","evt","children","useStyles","makeStyles","theme","toolbar","mixins","grow","display","flexGrow","appBar","zIndex","drawer","backgroundColor","palette","background","default","menuButton","marginRight","spacing","title","breakpoints","up","sectionDesktop","sectionMobile","MainAppBar","classes","anchorEl","setAnchorEl","mobileMoreAnchorEl","setMobileMoreAnchorEl","isMenuOpen","Boolean","isMobileMenuOpen","context","useContext","DelaContext","handleProfileMenuOpen","event","currentTarget","handleMobileMenuClose","handleMenuClose","menuId","renderMenu","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","open","onClose","MenuItem","onClick","renderMobileMenu","IconButton","aria-label","color","Badge","badgeContent","aria-controls","aria-haspopup","className","AppBar","position","Toolbar","edge","Typography","variant","noWrap","ConfirmRevokeDialog","setOpen","handleClose","Dialog","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","autoFocus","card","minWidth","marginLeft","media","height","paddingTop","expand","transform","transition","transitions","create","duration","shortest","expandOpen","orangeAvatar","margin","deepOrange","purpleAvatar","deepPurple","typography","textAlign","content","paddingBottom","ParcelDetails","expanded","setExpanded","openConfirmDialog","setOpenConfirmDialog","ListItemIcon","fontSize","ListItemText","primary","Card","CardHeader","avatar","Avatar","action","subheader","CardContent","expansion","CardActions","disableSpacing","menu","Tooltip","clsx","aria-expanded","Collapse","in","timeout","unmountOnExit","root","MainDrawerContainer","Grid","container","map","xs","key","width","flexShrink","drawerPaper","drawerHeader","alignItems","padding","justifyContent","easing","sharp","leavingScreen","contentShift","easeOut","enteringScreen","search","borderRadius","shape","fade","common","white","searchIcon","pointerEvents","inputRoot","inputInput","MainDrawer","Drawer","anchor","paper","InputBase","placeholder","input","inputProps","Divider","AppSnackbar","Snackbar","snackbarOpen","autoHideDuration","ContentProps","message","Link","href","target","rel","suggestions","label","suggestion","valueContainer","flexWrap","flex","overflow","chip","chipFocused","emphasize","type","grey","noOptionsMessage","singleValue","left","bottom","marginTop","right","divider","inputComponent","inputRef","ref","components","Control","innerProps","innerRef","selectProps","TextFieldProps","TextField","fullWidth","InputProps","Paper","square","MultiValue","Chip","tabIndex","isFocused","onDelete","removeProps","deleteIcon","NoOptionsMessage","Option","selected","component","style","fontWeight","isSelected","Placeholder","SingleValue","ValueContainer","ParcelTypeAutoList","useTheme","single","setSingle","selectStyles","base","text","font","NoSsr","styles","inputId","InputLabelProps","htmlFor","shrink","options","defaultInputValue","onChange","ManageParcelDialog","setParcelLabel","setParcelAddressId","setParcelArea","formValid","setFormValid","setTransactionHash","setSnackbarOpen","labelRef","createRef","addressRef","areaRef","handleClaimParcel","handleUpdateParcel","ReactDOM","findDOMNode","current","querySelector","_type","PaperProps","overflowY","cursor","defaultValue","lackingPoint","L","Icon","iconUrl","require","iconRetinaUrl","iconAnchor","popupAnchor","iconSize","MainMap","addMode","setAddMode","setLatLng","mapRef","Map","center","zoom","handleClick","TileLayer","attribution","url","idx","Marker","icon","Popup","Fab","createMuiTheme","hostname","match","render","ThemeProvider","CssBaseline","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.def5145f.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 419;","import Web3 from \"web3\";\n\nconst getWeb3 = () =>\n  new Promise((resolve, reject) => {\n    // Wait for loading completion to avoid race conditions with web3 injection timing.\n    window.addEventListener(\"load\", async () => {\n      // Modern dapp browsers...\n      if (window.ethereum) {\n        const web3 = new Web3(window.ethereum);\n        try {\n          // Request account access if needed\n          await window.ethereum.enable();\n          // Acccounts now exposed\n          \n          window.ethereum.on('accountsChanged', function (accounts) {\n            // Time to reload your interface with accounts[0]!\n            window.location.reload();\n          });\n          // .on('networkChanged', function (network) {\n          //   console.log('Network changed', network);\n          //   // not useful because Metamask reload the page automatically. \n          //   // This will not be the case in the future. \n          // });\n\n\n\n          resolve(web3);\n        } catch (error) {\n          reject(error);\n        }\n      }\n      // Legacy dapp browsers...\n      else if (window.web3) {\n        // Use Mist/MetaMask's provider.\n        const web3 = window.web3;\n        console.log(\"Injected web3 detected.\");\n        resolve(web3);\n      }\n      // Fallback to localhost; use dev console port by default...\n      else {\n        // const provider = new Web3.providers.HttpProvider(\n        //   \"https://rinkeby.infura.io/v3/3c9549d659c6477b9bbc86808f828119\"\n        // );\n        const provider = new Web3.providers.HttpProvider(\n          \"http://127.0.0.1:8545\"\n        );\n        const web3 = new Web3(provider);\n        console.log(\"No web3 instance injected, using Local web3.\");\n        resolve(web3);\n      }\n    });\n  });\n\nexport default getWeb3;\n","import React from 'react';\n\nexport default React.createContext({\n    web3: {},\n    accounts: [],\n    contractParcelReg: {},\n\n    parcels: [],\n    claimParcel: (lat, lng, wkbHash, parcelArea, parcelAddressId, parcelLabel, parcelType) => {},\n    updateParcel: (parcelArea, parcelAddressId, parcelLabel, parcelType) => {},\n    revokeParcel: (parcel) => {},\n\n    updateMode : false,\n    setUpdateMode : () => {},\n    parcelToUpdate: {} ,\n    setParcelToUpdate: () => {},\n    manageParcelDialogOpen: false,\n    openManageParcelDialog : () => {},\n    closeManageParcelDialog : () => {},\n\n    drawerOpen: false,\n    toggleDrawer: () => {}\n});","import React, { useState, useEffect } from 'react';\nimport Web3 from 'web3'\nimport { geoToH3, h3ToGeo } from 'h3-js';\n\nimport getWeb3 from \"../utils/getWeb3\";\nimport DelaContext from './dela-context';\n\nimport LAParcelRegistry from \"../contracts/LAParcelRegistry.json\";\nimport LAParcel from \"../contracts/LAParcel.json\";\n\n\nconst GlobalState = (props) => {\n    var claimEventBlocks = new Set();\n    var revokeEventBlocks = new Set();\n    /**\n     * @dev State variables\n     */\n    const [web3, setWeb3] = useState({});\n    const [accounts, setAccounts] = useState([]);\n    const [contractParcelReg, setContractParcelReg] = useState({});\n    const [parcels, setParcels] = useState([]);\n    const [updateMode, setUpdateMode] = useState(false);\n\n    const [manageParcelDialogOpen, openManageParcelDialog] = useState(false);\n    const [drawerOpen, setDrawerOpen] = useState(false);\n\n    const [parcelToUpdate, setParcelToUpdate] = useState({});\n\n    /**\n     * UI events handlers\n     */\n\n    const closeManageParcelDialog = () => {\n        openManageParcelDialog(false);\n    };\n\n    const toggleDrawer = (evt) => {\n        setDrawerOpen(!drawerOpen);\n    };\n\n    /**\n     * @dev React Component useEffect Hook\n     * @notice with empty array as parameter effect will run just once when the component mounts \n     */\n\n    useEffect(() => {\n        initWeb3()\n            .then((res) => {\n                const [_web3, _accounts, _contract] = res;\n                // Registring events handlers\n                _contract.events.LogParcelClaimed({ fromBlock: 0 }, (err, events) => {\n                    eventParcelClaimed(err, events, _web3, _accounts, _contract);\n                }).on('error', console.error);\n\n                _contract.events.LogFeatureRemoved({ fromBlock: 0 }, (err, events) => {\n                    eventParcelRevoked(err, events, _web3, _accounts, _contract);\n                }).on('error', console.error);\n            })\n            .catch(e => {\n                console.log(e);\n            });\n    }, []);\n\n\n    /**\n     * @dev init all Ethereum web3 useful varibales \n     * @notice web3, accounts, contracts instances,...\n     */\n\n    const initWeb3 = async () => {\n        var web3 = {};\n        var accounts = [];\n        var contractParcelReg = {};\n\n        try {\n            // Get network provider and web3 instance.\n            web3 = await getWeb3();\n            setWeb3(web3);\n\n            // Use web3 to get the user's accounts.\n            accounts = await web3.eth.getAccounts();\n            setAccounts(accounts);\n\n            // Get the contract instance.\n            const networkId = await web3.eth.net.getId();\n\n            const deployedParcelReg = LAParcelRegistry.networks[networkId];\n            contractParcelReg = new web3.eth.Contract(\n                LAParcelRegistry.abi,\n                deployedParcelReg && deployedParcelReg.address,\n            );\n            setContractParcelReg(contractParcelReg);\n\n            return [web3, accounts, contractParcelReg];\n\n        } catch (error) {\n            // Catch any errors for any of the above operations.\n            alert(\n                `Failed to load web3, accounts, or contract. Check console for details.`,\n            );\n            console.error(error);\n        }\n    }\n\n    /**\n     * @dev send a claim parcel transaction and handle results\n     */\n\n    const claimParcel = async (lat, lng, wkbHash, parcelArea,\n        parcelAddressId, parcelLabel, parcelType) => {\n\n        const h3Index = geoToH3(lat, lng, 15);  // Resolution (15) should be read from the registry \n        const h3IndexHex = web3.utils.utf8ToHex(h3Index);\n        const _wkbHash = web3.utils.asciiToHex(wkbHash);\n        const area = Number(parcelArea);\n\n        try {\n            const result = await contractParcelReg.methods.claimParcel(h3IndexHex, _wkbHash,\n                parcelAddressId, parcelLabel,\n                area, parcelType)\n                .send({ from: accounts[0] });\n\n            return result.events.LogParcelClaimed.transactionHash;\n        }\n        catch (error) {\n            if (error.code === 4001) {\n                // handle the \"error\" as a rejection\n                alert(`Transaction cancelled by the user.`);\n            } else {\n                // Catch any errors for any of the above operations.\n                alert(`Failed to send Claim transaction for unknown reason, please check the console log.`,\n                );\n            }\n            console.error(error);\n        }\n    };\n\n    /**\n     * @notice Handle Smart contract log events : claimParcel\n     */\n\n    const eventParcelClaimed = async (err, events, web3, accounts, contract) => {\n\n        const res = events.returnValues;\n\n        // Workaround to avoid duplicated event firing \n        let blockNumber = events.blockNumber;\n        if (claimEventBlocks.has(blockNumber)) return;\n        claimEventBlocks.add(blockNumber);\n\n        // check if the parcel haven't been removed before adding it\n        const featureExist = await contract.methods.dggsIndexExist(res.dggsIndex).call();\n        if (!featureExist) return;\n\n        const parcel = await fetchParcel(res.csc, web3, contract); // get the updated values for the parcel\n\n        const dggsIndex = web3.utils.hexToUtf8(res.dggsIndex); // Be aware of change in dggsIndex\n        const latlng = h3ToGeo(dggsIndex);\n\n        const parcelDetails = {\n            csc: parcel.csc, latlng, addr: parcel.addr, lbl: parcel.lbl,\n            area: parcel.area, parcelType: parcel.parcelType, owner: parcel.owner\n        };\n\n        setParcels(parcels => {\n            const list = [...parcels, parcelDetails];\n            return list;\n        });\n    }\n\n    /**\n     * @dev revokeParcel\n     */\n    const revokeParcel = async (parcel) => {\n\n        try {\n            const result = await contractParcelReg.methods.removeFeature(parcel.csc).send({ from: accounts[0] });\n            return result.events.LogFeatureRemoved.transactionHash;\n        }\n        catch (error) {\n            console.error(error);\n        }\n\n    }\n\n    /**\n     * @notice Handle Smart contract log events : LogFeatureRemoved\n     */\n\n    const eventParcelRevoked = (err, events, _web3, _accounts, _contract) => {\n\n        // Workaround to avoid duplicated event firing \n        let blockNumber = events.blockNumber;\n        if (revokeEventBlocks.has(blockNumber)) return;\n        revokeEventBlocks.add(blockNumber);\n\n        const csc = events.returnValues.csc;\n        setParcels(parcels => {\n            const list = parcels.filter((parcel) => parcel.csc !== csc);\n            return list;\n        });\n    }\n\n    /**\n     * @dev updateParcel\n     * @TODO  implement updates\n     */\n    const updateParcel = async (parcelArea, parcelAddressId, parcelLabel, parcelType) => {\n\n        try {\n            const featureAddress = await contractParcelReg.methods.getFeature(parcelToUpdate.csc).call();\n            const parcel = new web3.eth.Contract(LAParcel.abi, featureAddress);\n\n            var res = null;\n            if (parcelAddressId !== parcelToUpdate.addr)\n             res = await parcel.methods.setExtAddressId(parcelAddressId).send({ from: accounts[0] });; \n\n            if (parcelLabel !== parcelToUpdate.lbl)\n             res = await parcel.methods.setLabel(parcelLabel).send({ from: accounts[0] });; \n\n            if (parcelArea !== parcelToUpdate.area)\n             res = await parcel.methods.setArea(Number(parcelArea)).send({ from: accounts[0] });; \n\n            if (parcelType !== parcelToUpdate.parcelType)\n             res = await parcel.methods.setParcelType(parcelType).send({ from: accounts[0] });; \n\n            setParcels(parcels => {\n                const list = parcels.filter((item) => item.csc !== parcelToUpdate.csc);\n                \n                const parcelDetails = {\n                    csc: parcelToUpdate.csc, latlng : parcelToUpdate.latlng, owner: parcelToUpdate.owner,\n                    addr: parcelAddressId, lbl: parcelLabel,\n                    area: parcelArea, parcelType\n                };\n\n                list.push(parcelDetails);\n\n                return list;\n            });\n        \n            if (res) return res.transactionHash;\n            else return \"\";\n        }\n        catch (error) {\n            console.error(error);\n        }\n\n    }\n\n    /**\n     * @dev returns the attributes of the parcel \n     */\n\n    const fetchParcel = async (csc, web3, contractParcelReg) => {\n\n        const featureAddress = await contractParcelReg.methods.getFeature(csc).call();\n        const parcel = new web3.eth.Contract(LAParcel.abi, featureAddress);\n        const res = await parcel.methods.fetchParcel().call();\n        const owner = await parcel.methods.owner().call();\n        \n        return { csc: res[0], addr : res[1], lbl: res[2],\n            area: res[3], parcelType: res[4], owner: owner };\n    };\n\n    ///////////////////////////////////////////////////////////////////////////////\n    ///////////// Mainained for code history\n\n\n    /**\n     * @notice updateFeatures Button on the AppBar\n     * @todo replace it with a button directly on the map\n     *        the mainmap should use the features state variable of this Component 'App'\n     *        like the DrawerList\n     *        This will allow to avoid using OnRef (this.mainMap.)\n     */\n\n    // const updateFeatures = () => {\n    //     fetch('http://localhost:4000/collections/features')\n    //         .then(res => {\n    //             return res.json();\n    //         }).then(data => {\n    //             setFeatures(data);\n    //             // updateParcels(data);\n    //         });\n    // };\n\n    /**\n     * @dev update Parcles state varibale\n     * @param {*} data \n     */\n    // const updateParcels = (data) => {\n\n    //     data.map(async (value) => {\n    //         const featureAddress = await contractParcelReg.methods.getFeature(value.properties.csc).call();\n    //         const parcel = new web3.eth.Contract(LAParcel.abi, featureAddress);\n    //         const parcelValues = await parcel.methods.fetchParcel().call();\n    //         console.log(parcelValues);\n    //         const parcelAttributes = {\n    //             'csc': parcelValues[0], 'address': parcelValues[1],\n    //             'label': parcelValues[2], 'area': parcelValues[3], 'parcelType': parcelValues[4]\n    //         };\n    //         setParcels(...parcels, parcelAttributes);\n    //     });\n    // };\n\n    /**\n     * Render function\n     */\n    return (\n        <DelaContext.Provider value={{\n            web3,\n            accounts,\n            contractParcelReg,\n\n            parcels,\n            claimParcel,\n            updateParcel,\n            revokeParcel,\n\n            updateMode,\n            setUpdateMode,\n            parcelToUpdate,\n            setParcelToUpdate,\n            manageParcelDialogOpen,\n            openManageParcelDialog,\n            closeManageParcelDialog,\n\n            drawerOpen,\n            toggleDrawer\n        }}>\n            {props.children}\n\n        </DelaContext.Provider>\n    );\n}\n\nexport default GlobalState;","import React, { useContext } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport Badge from '@material-ui/core/Badge';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport UpdateIcon from '@material-ui/icons/Update';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport MoreIcon from '@material-ui/icons/MoreVert';\n\nimport DelaContext from '../context/dela-context';\n\nconst useStyles = makeStyles(theme => ({\n    toolbar: theme.mixins.toolbar,\n    grow: {\n        display: 'flex',\n        flexGrow: 1,\n    },\n    appBar: {\n        zIndex: theme.zIndex.drawer + 1,\n        backgroundColor: theme.palette.background.default,\n    },\n\n    menuButton: {\n        marginRight: theme.spacing(2),\n    },\n    title: {\n        display: 'none',\n        [theme.breakpoints.up('sm')]: {\n            display: 'block',\n        },\n    },\n    sectionDesktop: {\n        display: 'none',\n        [theme.breakpoints.up('md')]: {\n            display: 'flex',\n        },\n    },\n    sectionMobile: {\n        display: 'flex',\n        [theme.breakpoints.up('md')]: {\n            display: 'none',\n        },\n    },\n}));\n\nexport default function MainAppBar(props) {\n    const classes = useStyles();\n\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState(null);\n\n    const isMenuOpen = Boolean(anchorEl);\n    const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\n\n    const context = useContext(DelaContext);\n\n    const handleProfileMenuOpen = event => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleMobileMenuClose = () => {\n        setMobileMoreAnchorEl(null);\n    };\n\n    const handleMenuClose = () => {\n        setAnchorEl(null);\n        handleMobileMenuClose();\n    };\n\n    const handleMobileMenuOpen = event => {\n        setMobileMoreAnchorEl(event.currentTarget);\n    };\n\n\n    const menuId = 'primary-search-account-menu';\n    const renderMenu = (\n        <Menu\n            anchorEl={anchorEl}\n            anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n            id={menuId}\n            keepMounted\n            transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n            open={isMenuOpen}\n            onClose={handleMenuClose}\n        >\n            <MenuItem onClick={handleMenuClose}>Profile</MenuItem>\n            <MenuItem onClick={handleMenuClose}>My account</MenuItem>\n        </Menu>\n    );\n\n    const mobileMenuId = 'primary-search-account-menu-mobile';\n    const renderMobileMenu = (\n        <Menu\n            anchorEl={mobileMoreAnchorEl}\n            anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n            id={mobileMenuId}\n            keepMounted\n            transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n            open={isMobileMenuOpen}\n            onClose={handleMobileMenuClose}\n        >\n            <MenuItem>\n                <IconButton aria-label=\"Update spatial index\"\n                    color=\"inherit\"\n                    >\n                    <Badge badgeContent={0} color=\"secondary\">\n                        <UpdateIcon />\n                    </Badge>\n                </IconButton>\n                <p >Update map</p>\n            </MenuItem>\n            <MenuItem>\n                <IconButton aria-label=\"show 11 new notifications\" color=\"inherit\">\n                    <Badge badgeContent={11} color=\"secondary\">\n                        <NotificationsIcon />\n                    </Badge>\n                </IconButton>\n                <p>Notifications</p>\n            </MenuItem>\n            <MenuItem onClick={handleProfileMenuOpen}>\n                <IconButton\n                    aria-label=\"account of current user\"\n                    aria-controls=\"primary-search-account-menu\"\n                    aria-haspopup=\"true\"\n                    color=\"inherit\"\n                >\n                    <AccountCircle />\n                </IconButton>\n                <p>Profile</p>\n            </MenuItem>\n        </Menu>\n    );\n\n\n    return (\n        <div className={classes.grow}>\n            <AppBar position=\"static\" className={classes.appBar}>\n                <Toolbar>\n                    <IconButton\n                        edge=\"start\"\n                        className={classes.menuButton}\n                        color=\"inherit\"\n                        aria-label=\"open drawer\"\n                        onClick={context.toggleDrawer}\n                    >\n                        <MenuIcon />\n                    </IconButton>\n\n                    <Typography className={classes.title} variant=\"h6\" noWrap>\n                        DeLA : Decentralized Crowd Sourcing Land Administration\n                    </Typography>\n\n                    <div className={classes.grow} />\n                    <div className={classes.sectionDesktop}>\n                        <IconButton aria-label=\"Update spatial index\"\n                            color=\"inherit\"\n                            >\n                            <Badge badgeContent={0} color=\"secondary\">\n                                <UpdateIcon />\n                            </Badge>\n                        </IconButton>\n                        <IconButton aria-label=\"show new notifications\" color=\"inherit\">\n                            <Badge badgeContent={17} color=\"secondary\">\n                                <NotificationsIcon />\n                            </Badge>\n                        </IconButton>\n                        <IconButton\n                            edge=\"end\"\n                            aria-label=\"account of current user\"\n                            aria-controls={menuId}\n                            aria-haspopup=\"true\"\n                            onClick={handleProfileMenuOpen}\n                            color=\"inherit\"\n                        >\n                            <AccountCircle />\n                        </IconButton>\n                    </div>\n                    <div className={classes.sectionMobile}>\n                        <IconButton\n                            aria-label=\"show more\"\n                            aria-controls={mobileMenuId}\n                            aria-haspopup=\"true\"\n                            onClick={handleMobileMenuOpen}\n                            color=\"inherit\"\n                        >\n                            <MoreIcon />\n                        </IconButton>\n                    </div>\n                </Toolbar>\n            </AppBar>\n            {renderMobileMenu}\n            {renderMenu}\n        </div>\n    );\n}\n","import React, { useContext } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport DelaContext from '../context/dela-context';\n\nexport default function ConfirmRevokeDialog({open, setOpen, parcel}) {\n  // const [open, setOpen] = React.useState(false);\n\n  const context = useContext(DelaContext);\n\n  const handleRevokeParcel = () => {\n    context.revokeParcel(parcel);\n    setOpen(false);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">{\"Revoke your ownership of this parcel?\"}</DialogTitle>\n        <DialogContent>\n        <DialogContentText id=\"alert-dialog-description\">\n\n          Are you sur you want to revoke your ownership of this parcel. <br/>\n           Label : {parcel.lbl} / Address : {parcel.addr} / Land use : {parcel.parcelType}\n\n        </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleRevokeParcel} color=\"secondary\" >\n            Revoke\n          </Button>\n          <Button onClick={handleClose} color=\"primary\" autoFocus>\n            Cancel\n          </Button>\n        </DialogActions>\n      </Dialog>\n  );\n}\n","\nimport React, { useContext } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport Collapse from '@material-ui/core/Collapse';\nimport Avatar from '@material-ui/core/Avatar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport { deepOrange, deepPurple } from '@material-ui/core/colors';\nimport AutorenewIcon from '@material-ui/icons/Autorenew';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport ReportIcon from '@material-ui/icons/Report';\nimport ZoomInIcon from '@material-ui/icons/ZoomIn';\nimport ZoomOutMapIcon from '@material-ui/icons/ZoomOutMap';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport AddShoppingCartIcon from '@material-ui/icons/AddShoppingCart';\n\nimport DelaContext from '../context/dela-context';\nimport ConfirmRevokeDialog from './ConfirmRevokeDialog';\n\nconst useStyles = makeStyles(theme => ({\n  card: {\n    minWidth: 150,\n    marginLeft: theme.spacing(0.5),\n    marginRight: theme.spacing(0.5)\n  },\n  media: {\n    height: 0,\n    paddingTop: '56.25%', // 16:9\n  },\n  expand: {\n    transform: 'rotate(0deg)',\n    marginLeft: 'auto',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)',\n  },\n\n  orangeAvatar: {\n    margin: 10,\n    color: '#fff',\n    backgroundColor: deepOrange[500],\n  },\n  purpleAvatar: {\n    margin: 10,\n    color: '#fff',\n    backgroundColor: deepPurple[500],\n  },\n  typography: {\n    textAlign: \"left\",\n  },\n  content: {\n    paddingTop:0,\n    \"&:last-child\": {\n      paddingBottom: 3\n    }\n  },\n\n}));\n\nexport default function ParcelDetails(props) {\n  const classes = useStyles();\n  const [expanded, setExpanded] = React.useState(false);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const [openConfirmDialog, setOpenConfirmDialog] = React.useState(false);\n\n  const isMenuOpen = Boolean(anchorEl);\n\n  const context = useContext(DelaContext);\n\n  /**\n   * @dev Events handlers \n   */\n\n  const handleUpdateParcelClick = (e) => {\n    context.setParcelToUpdate(props.parcel);\n    context.setUpdateMode(true);\n    context.openManageParcelDialog(true);\n  }\n\n  const handleManageParcelMenuOpen = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleExpandClick = () => {\n    setExpanded(!expanded);\n  };\n\n  const menuId = 'primary-manage-parcel-menu';\n  const renderMenu = (\n    <Menu\n      anchorEl={anchorEl}\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n      id={menuId}\n      keepMounted\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n      open={isMenuOpen}\n      onClose={handleMenuClose}\n    >\n      {props.owner ?\n        <div>\n          <MenuItem onClick={handleUpdateParcelClick}>\n            <ListItemIcon>\n              <AutorenewIcon fontSize=\"small\" />\n            </ListItemIcon>\n            <ListItemText primary=\"Update\" />\n          </MenuItem>\n          <MenuItem onClick={() => setOpenConfirmDialog(true)}>\n            <ListItemIcon>\n              <DeleteForeverIcon fontSize=\"small\" />\n            </ListItemIcon>\n            <ListItemText primary=\"Revoke\" />\n          </MenuItem>\n        </div>\n        :\n        <div>\n          <MenuItem onClick={handleMenuClose}>\n            <ListItemIcon>\n              <AddShoppingCartIcon fontSize=\"small\" />\n            </ListItemIcon>\n            <ListItemText primary=\"Bid\" />\n          </MenuItem>\n          <MenuItem onClick={handleMenuClose}>\n            <ListItemIcon>\n              <ReportIcon fontSize=\"small\" />\n            </ListItemIcon>\n            <ListItemText primary=\"Dispute\" />\n          </MenuItem>\n        </div>\n      }\n    </Menu>\n  );\n\n  return (\n    <div>\n      <Card className={classes.card}>\n        <CardHeader\n          avatar={props.owner ?\n            <Avatar aria-label=\"owner\" className={classes.purpleAvatar}>\n              O\n          </Avatar>\n            :\n            <Avatar aria-label=\"laker\" className={classes.orangeAvatar}>\n              NO\n          </Avatar>\n          }\n          action={\n            <IconButton aria-label=\"settings\" onClick={handleManageParcelMenuOpen}>\n              <MoreVertIcon />\n            </IconButton>\n          }          \n          title={props.parcel.lbl}\n          subheader={props.parcel.parcelType}\n        />\n        {/* <CardMedia\n        className={classes.media}\n        image=\"/static/images/cards/paella.jpg\"\n        title=\"Paella dish\"\n      /> */}\n        <CardContent className={classes.content}>\n          <Typography className={classes.typography}> Area : {props.parcel.area} </Typography>\n        </CardContent>\n        {props.expansion &&\n        <div>\n          <CardActions disableSpacing>\n            <div className={classes.menu}>\n              <Tooltip title=\"Zoom in\">\n                <IconButton aria-label=\"zoomin\">\n                  <ZoomInIcon />\n                </IconButton>\n              </Tooltip>\n              <Tooltip title=\"Zoom to map\">\n                <IconButton aria-label=\"zoommap\">\n                  <ZoomOutMapIcon />\n                </IconButton>\n              </Tooltip>\n            </div>\n            <IconButton\n              className={clsx(classes.expand, {\n                [classes.expandOpen]: expanded,\n              })}\n              onClick={handleExpandClick}\n              aria-expanded={expanded}\n              aria-label=\"show more\"\n            >\n              <ExpandMoreIcon />\n            </IconButton>\n\n          </CardActions>\n          <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n            <CardContent className={classes.content}>\n              <Typography className={classes.typography}> Address : {props.parcel.addr}</Typography>\n            </CardContent>\n          </Collapse>\n        </div>\n      }\n      </Card>\n      <ConfirmRevokeDialog open={openConfirmDialog}\n        setOpen={setOpenConfirmDialog}\n        parcel={props.parcel}\n      />\n      {renderMenu}\n    </div>\n  );\n}\n","import React, { useContext } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\n\nimport DelaContext from '../context/dela-context';\nimport ParcelDetails from './ParcelDetails';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,    \n    backgroundColor: theme.palette.background.default,\n  },  \n}));\n\nexport default function MainDrawerContainer(props) {\n  const classes = useStyles();\n  const context = useContext(DelaContext);\n\n  return (\n    <Grid container className={classes.root} spacing={1}>\n      {context.parcels.map(parcel => {\n        return parcel.owner === context.accounts[0] ?\n          <Grid item xs={12} key={parcel.csc}>\n            <ParcelDetails parcel={parcel} owner={true} expansion={true}/>\n          </Grid>\n          :\n          null\n      }\n      )}\n    </Grid >\n  );\n}\n","import React, { useContext } from 'react';\nimport { fade, makeStyles } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport SearchIcon from '@material-ui/icons/Search';\nimport InputBase from '@material-ui/core/InputBase';\n\nimport MainDrawerContainer from './MainDrawerContainer';\nimport DelaContext from '../context/dela-context';\n\n/**\n * @notice Styles\n */\nconst drawerWidth = 340;\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n  },\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-end',\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(1),\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    marginLeft: -drawerWidth,\n  },\n  contentShift: {\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginLeft: 0,\n  },\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.common.white, 0.25),\n    },\n    marginRight: theme.spacing(2),\n    marginLeft: 0,\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(3),\n      width: 'auto',\n    },\n  },\n  searchIcon: {\n    width: theme.spacing(7),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  inputRoot: {\n    color: 'inherit',\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 7),\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('md')]: {\n      width: 200,\n    },\n  },\n\n  toolbar: theme.mixins.toolbar,\n}));\n\n/**\n * @dev React functional component \n */\n\nexport default function MainDrawer(props) {\n  const classes = useStyles();\n  const context = useContext(DelaContext);\n\n  return (\n\n    <Drawer\n      className={classes.drawer}\n      variant=\"persistent\"\n      anchor=\"left\"\n      open={context.drawerOpen}\n      classes={{\n        paper: classes.drawerPaper,\n      }}\n    >\n      <div className={classes.toolbar}></div>\n      <div className={classes.drawerHeader}>\n        <div className={classes.search}>\n          <div className={classes.searchIcon}>\n            <SearchIcon />\n          </div>\n          <InputBase\n            placeholder=\"Search for parcels \"\n            classes={{\n              root: classes.inputRoot,\n              input: classes.inputInput,\n            }}\n            inputProps={{ 'aria-label': 'search' }}\n          />\n        </div>\n        <IconButton onClick={context.toggleDrawer}>\n          <CloseIcon />\n        </IconButton>\n      </div>\n      <Divider />\n\n      <MainDrawerContainer />\n\n    </Drawer>\n\n  );\n}\n","import React from \"react\";\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Link from '@material-ui/core/Link';\n\nexport default function AppSnackbar(props) {\n\n    return (\n        <Snackbar\n            anchorOrigin={{ vertical: 'bottom',  horizontal: 'right' }}\n            key={`${'bottom'},${'right'}`}\n            open={props.snackbarOpen}\n            // onClose={handleSnackbarClose}\n            autoHideDuration={6000}\n            ContentProps={{\n                'aria-describedby': 'message-id',\n            }}\n            message={\n                <span id=\"message-id\">\n                    <Link href={\"https://rinkeby.etherscan.io/tx/\" + props.transactionHash}\n                        target=\"_blank\"\n                        rel=\"noopener\">\n                        Claimed parcel added to the immutable Registry\n                    </Link>\n                </span>}\n         />\n    );\n\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport Select from 'react-select';\nimport { emphasize, makeStyles, useTheme } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport NoSsr from '@material-ui/core/NoSsr';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport Chip from '@material-ui/core/Chip';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport CancelIcon from '@material-ui/icons/Cancel';\n\nconst suggestions = [\n  { label: 'Building' },\n  { label: 'Urban' },\n  { label: 'Argriculture' },\n  { label: 'Industrial' },\n  { label: 'Forest' },\n  { label: 'Fishery' },\n].map(suggestion => ({\n  value: suggestion.label,\n  label: suggestion.label,\n}));\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    minWidth: 290,\n  },\n  input: {\n    display: 'flex',\n    padding: 0,\n    height: 'auto',\n  },\n  valueContainer: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    flex: 1,\n    alignItems: 'center',\n    overflow: 'hidden',\n  },\n  chip: {\n    margin: theme.spacing(0.5, 0.25),\n  },\n  chipFocused: {\n    backgroundColor: emphasize(\n      theme.palette.type === 'light' ? theme.palette.grey[300] : theme.palette.grey[700],\n      0.08,\n    ),\n  },\n  noOptionsMessage: {\n    padding: theme.spacing(1, 2),\n  },\n  singleValue: {\n    fontSize: 16,\n  },\n  placeholder: {\n    position: 'absolute',\n    left: 2,\n    bottom: 6,\n    fontSize: 16,\n  },\n  paper: {\n    position: 'absolute',\n    zIndex: 10,\n    marginTop: theme.spacing(1),\n    left: 0,\n    right: 0,\n  },\n  divider: {\n    height: theme.spacing(2),\n  },\n}));\n\nfunction NoOptionsMessage(props) {\n  return (\n    <Typography\n      color=\"textSecondary\"\n      className={props.selectProps.classes.noOptionsMessage}\n      {...props.innerProps}\n    >\n      {props.children}\n    </Typography>\n  );\n}\n\nNoOptionsMessage.propTypes = {\n  /**\n   * The children to be rendered.\n   */\n  children: PropTypes.node,\n  /**\n   * Props to be passed on to the wrapper.\n   */\n  innerProps: PropTypes.object.isRequired,\n  selectProps: PropTypes.object.isRequired,\n};\n\nfunction inputComponent({ inputRef, ...props }) {\n  return <div ref={inputRef} {...props} />;\n}\n\ninputComponent.propTypes = {\n  inputRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({\n      current: PropTypes.any.isRequired,\n    }),\n  ]),\n};\n\nfunction Control(props) {\n  const {\n    children,\n    innerProps,\n    innerRef,\n    selectProps: { classes, TextFieldProps },\n  } = props;\n\n  return (\n    <TextField\n      fullWidth\n      InputProps={{\n        inputComponent,\n        inputProps: {\n          className: classes.input,\n          ref: innerRef,\n          children,\n          ...innerProps,\n        },\n      }}\n      {...TextFieldProps}\n    />\n  );\n}\n\nControl.propTypes = {\n  /**\n   * Children to render.\n   */\n  children: PropTypes.node,\n  /**\n   * The mouse down event and the innerRef to pass down to the controller element.\n   */\n  innerProps: PropTypes.shape({\n    onMouseDown: PropTypes.func.isRequired,\n  }).isRequired,\n  innerRef: PropTypes.oneOfType([\n    PropTypes.oneOf([null]),\n    PropTypes.func,\n    PropTypes.shape({\n      current: PropTypes.any.isRequired,\n    }),\n  ]).isRequired,\n  selectProps: PropTypes.object.isRequired,\n};\n\nfunction Option(props) {\n  return (\n    <MenuItem\n      ref={props.innerRef}\n      selected={props.isFocused}\n      component=\"div\"\n      style={{\n        fontWeight: props.isSelected ? 500 : 400,\n      }}\n      {...props.innerProps}\n    >\n      {props.children}\n    </MenuItem>\n  );\n}\n\nOption.propTypes = {\n  /**\n   * The children to be rendered.\n   */\n  children: PropTypes.node,\n  /**\n   * props passed to the wrapping element for the group.\n   */\n  innerProps: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    // key: PropTypes.string.isRequired,\n    onClick: PropTypes.func.isRequired,\n    onMouseMove: PropTypes.func.isRequired,\n    onMouseOver: PropTypes.func.isRequired,\n    tabIndex: PropTypes.number.isRequired,\n  }).isRequired,\n  /**\n   * Inner ref to DOM Node\n   */\n  innerRef: PropTypes.oneOfType([\n    PropTypes.oneOf([null]),\n    PropTypes.func,\n    PropTypes.shape({\n      current: PropTypes.any.isRequired,\n    }),\n  ]), //.isRequired,\n  /**\n   * Whether the option is focused.\n   */\n  isFocused: PropTypes.bool.isRequired,\n  /**\n   * Whether the option is selected.\n   */\n  isSelected: PropTypes.bool.isRequired,\n};\n\nfunction Placeholder(props) {\n  const { selectProps, innerProps = {}, children } = props;\n  return (\n    <Typography color=\"textSecondary\" className={selectProps.classes.placeholder} {...innerProps}>\n      {children}\n    </Typography>\n  );\n}\n\nPlaceholder.propTypes = {\n  /**\n   * The children to be rendered.\n   */\n  children: PropTypes.node,\n  /**\n   * props passed to the wrapping element for the group.\n   */\n  innerProps: PropTypes.object,\n  selectProps: PropTypes.object.isRequired,\n};\n\nfunction SingleValue(props) {\n  return (\n    <Typography className={props.selectProps.classes.singleValue} {...props.innerProps}>\n      {props.children}\n    </Typography>\n  );\n}\n\nSingleValue.propTypes = {\n  /**\n   * The children to be rendered.\n   */\n  children: PropTypes.node,\n  /**\n   * Props passed to the wrapping element for the group.\n   */\n  // innerProps: PropTypes.any.isRequired,\n  // selectProps: PropTypes.object.isRequired,\n};\n\nfunction ValueContainer(props) {\n  return <div className={props.selectProps.classes.valueContainer}>{props.children}</div>;\n}\n\nValueContainer.propTypes = {\n  /**\n   * The children to be rendered.\n   */\n  children: PropTypes.node,\n  selectProps: PropTypes.object.isRequired,\n};\n\nfunction MultiValue(props) {\n  return (\n    <Chip\n      tabIndex={-1}\n      label={props.children}\n      className={clsx(props.selectProps.classes.chip, {\n        [props.selectProps.classes.chipFocused]: props.isFocused,\n      })}\n      onDelete={props.removeProps.onClick}\n      deleteIcon={<CancelIcon {...props.removeProps} />}\n    />\n  );\n}\n\nMultiValue.propTypes = {\n  children: PropTypes.node,\n  isFocused: PropTypes.bool.isRequired,\n  removeProps: PropTypes.shape({\n    onClick: PropTypes.func.isRequired,\n    onMouseDown: PropTypes.func.isRequired,\n    onTouchEnd: PropTypes.func.isRequired,\n  }).isRequired,\n  selectProps: PropTypes.object.isRequired,\n};\n\nfunction Menu(props) {\n  return (\n    <Paper square className={props.selectProps.classes.paper} {...props.innerProps}>\n      {props.children}\n    </Paper>\n  );\n}\n\nMenu.propTypes = {\n  /**\n   * The children to be rendered.\n   */\n  children: PropTypes.element.isRequired,\n  /**\n   * Props to be passed to the menu wrapper.\n   */\n  innerProps: PropTypes.object.isRequired,\n  selectProps: PropTypes.object.isRequired,\n};\n\nconst components = {\n  Control,\n  Menu,\n  MultiValue,\n  NoOptionsMessage,\n  Option,\n  Placeholder,\n  SingleValue,\n  ValueContainer,\n};\n\nexport default function ParcelTypeAutoList(props) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [single, setSingle] = React.useState('Building');\n\n  const handleChangeSingle = value => {\n    props.setParcelType(value);\n    setSingle(value);\n  };\n\n  const selectStyles = {\n    input: base => ({\n      ...base,\n      color: theme.palette.text.primary,\n      '& input': {\n        font: 'inherit',\n      },\n    }),\n  };\n\n  return (\n    <div className={classes.root}>\n      <NoSsr>\n        <Select\n          classes={classes}\n          styles={selectStyles}\n          inputId=\"react-select-single\"\n          TextFieldProps={{\n            label: 'Type',\n            InputLabelProps: {\n              htmlFor: 'react-select-single',\n              shrink: true,\n            },\n          }}\n          placeholder=\"Search parcel type\"\n          options={suggestions}\n          components={components}\n          value={single}\n          defaultInputValue={props.parcelType}\n          onChange={handleChangeSingle}\n        />       \n      </NoSsr>\n    </div>\n  );\n}\n","import React, { useState, useContext, createRef } from 'react';\nimport ReactDOM from 'react-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport TextField from '@material-ui/core/TextField';\n\nimport DelaContext from '../context/dela-context';\nimport AppSnackbar from './AppSnackbar';\nimport ParcelTypeAutoList from './ParcelTypeAutoList';\n\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    height: 250,\n  }\n}));\n\nexport default function ManageParcelDialog(props) {\n\n  const classes = useStyles();\n\n  /**\n   * @dev state variables\n   */\n  const [parcelLabel, setParcelLabel] = useState(\"\");\n  const [parcelAddressId, setParcelAddressId] = useState(\"\");\n  const [parcelArea, setParcelArea] = useState(\"\");\n  const [parcelType, setParcelType] = useState(\"\");\n\n  const [formValid, setFormValid] = useState(true)\n\n  const [transactionHash, setTransactionHash] = useState(\"\");\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\n\n\n  const context = useContext(DelaContext);\n\n  const labelRef = createRef();\n  const addressRef = createRef();\n  const areaRef = createRef();  \n\n  /**\n   * @dev Claim Parcel onClick event handler\n   */\n\n  const handleClaimParcel = async () => {\n    if (parcelArea === \"\" || parcelArea < 0 || parcelLabel === \"\" || parcelType === \"\" || parcelAddressId === \"\") {\n      setFormValid(false);\n    }\n    else {\n      const lat = props.latlng.lat;\n      const lng = props.latlng.lng;\n      const result = await context.claimParcel(lat, lng, \"wkbHash\", parcelArea, \n                                            parcelAddressId, parcelLabel, parcelType.value);\n\n      setTransactionHash(result);\n      setSnackbarOpen(true);\n      context.closeManageParcelDialog();\n    }\n  }\n\n   /**\n   * @dev Update Parcel onClick event handler\n   */\n\n  const handleUpdateParcel = async () => {\n    const label = ReactDOM.findDOMNode(labelRef.current).querySelector('input').value;\n    const address = ReactDOM.findDOMNode(addressRef.current).querySelector('input').value;\n    const area = ReactDOM.findDOMNode(areaRef.current).querySelector('input').value;\n    const _type = typeof(parcelType.value) === 'undefined' ? context.parcelToUpdate.parcelType : parcelType.value;\n    \n    if (area.value === \"\" || area.value < 0 || label.value === \"\" || address.value === \"\" || _type === \"\") {\n      setFormValid(false);\n    }\n    else {\n\n      const result = await context.updateParcel(area, address, label, _type);\n\n      setTransactionHash(result);\n      setSnackbarOpen(true);\n      context.closeManageParcelDialog();\n    }\n  }\n\n  /**\n   * @dev rendering\n   */\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        PaperProps={{ style: { overflowY: 'visible' } }}\n        open={context.manageParcelDialogOpen}\n        onClose={context.closeManageParcelDialog}\n        aria-labelledby=\"draggable-dialog-title\"\n      >\n        <DialogTitle style={{ cursor: 'move' }} id=\"draggable-dialog-title\">\n        {context.updateMode ? <span> Update parcel </span> : <span> Claim parcel</span> }\n        </DialogTitle>\n        <DialogContent style={{ overflowY: 'visible' }}>\n          <DialogContentText>\n            To {context.updateMode ? <span> update </span> : <span> claim</span> } this parcel, please fill-in the following informations.\n          </DialogContentText>\n          <TextField\n            autoFocus\n            error={parcelLabel === \"\" && !formValid}\n            margin=\"dense\"\n            id=\"parcel-label\"\n            label=\"Label\"\n            fullWidth\n            ref={labelRef}\n            defaultValue={context.updateMode ? context.parcelToUpdate.lbl : \"\"}\n            onChange={(evt) => setParcelLabel(evt.target.value)}\n          />\n          <ParcelTypeAutoList setParcelType={setParcelType} \n                              parcelType={context.updateMode ? context.parcelToUpdate.parcelType : \"\" }/>\n          <TextField\n            autoFocus\n            error={parcelAddressId === \"\" && !formValid}\n            margin=\"dense\"\n            id=\"parcel-address\"\n            label=\"External Address ID\"\n            fullWidth\n            ref={addressRef}\n            defaultValue={context.updateMode ? context.parcelToUpdate.addr : \"\"}\n            onChange={(evt) => setParcelAddressId(evt.target.value)}\n          />\n          <TextField\n            autoFocus\n            error={(parcelArea === \"\" && !formValid) || Number(parcelArea) < 0}\n            margin=\"dense\"\n            id=\"parcel-area\"\n            type=\"number\"\n            label=\"Area\"\n            fullWidth\n            ref={areaRef}\n            defaultValue={context.updateMode ? context.parcelToUpdate.area : \"\"}\n            onChange={(evt) => setParcelArea(evt.target.value)}\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button autoFocus onClick={context.closeManageParcelDialog} color=\"secondary\">\n            Cancel\n          </Button>\n          {context.updateMode ?\n            <Button onClick={handleUpdateParcel} color=\"primary\">\n              Update\n            </Button>\n            :\n            <Button onClick={handleClaimParcel} color=\"primary\">\n              Claim\n            </Button>\n          }\n        </DialogActions>\n      </Dialog>\n      <AppSnackbar snackbarOpen={snackbarOpen} transactionHash={transactionHash} />\n    </div>\n  )\n};\n","import React, { useState, useContext, createRef } from 'react';\nimport { Map, TileLayer, Marker, Popup } from \"react-leaflet\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport Control from \"react-leaflet-control\";\nimport Fab from '@material-ui/core/Fab';\nimport EditIcon from '@material-ui/icons/Edit';\nimport MapIcon from '@material-ui/icons/Map';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport L from 'leaflet';\n\nimport DelaContext from '../context/dela-context';\nimport ManageParcelDialog from './ManageParcelDialog';\nimport ParcelDetails from './ParcelDetails';\n\n/**\n * @dev map icons\n */\n\n const lackingPoint = new L.Icon({\n  iconUrl: require('../assets/glyph-marker-icon.png'),\n  iconRetinaUrl: require('../assets/glyph-marker-icon.png'),\n  iconAnchor: [20, 40],\n  popupAnchor: [0, -35],\n  iconSize: [23, 40],\n})\n\n/**\n * @dev React-Leaflet functionnal component\n */\n\nexport default function MainMap(props) {\n\n  /**\n   * @notice state variables \n   */\n\n  const [addMode, setAddMode] = useState(false);\n  const [latlng, setLatLng] = useState({});\n\n  const context = useContext(DelaContext);\n\n  const mapRef = createRef();\n  const position = [40.0, 3];\n  const zoom = 5;\n\n  /**\n   * @dev Events handlers \n   */\n\n  const handleClick = (e) => {\n    const map = mapRef.current\n    if (map != null) {\n      setLatLng(e.latlng);\n      context.setUpdateMode(false);\n      context.openManageParcelDialog(true);\n    }\n  }\n\n  /**\n   * @notice Render the component\n   */\n\n  return (\n    <div>\n      <Map\n        center={position}\n        zoom={zoom}\n        onClick={(e) => { if (addMode) { handleClick(e) } }}\n        // onLocationfound={this.handleLocationFound}\n        ref={mapRef}\n        style={addMode ? { cursor: 'crosshair' } : null}\n      >\n\n        <TileLayer\n          attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        />\n        {context.parcels.map((parcel, idx) => { \n          return parcel.owner === context.accounts[0] ?\n            <Marker position={parcel.latlng} key={`marker-${idx}`} icon={lackingPoint}>\n              <Popup>              \n                <ParcelDetails parcel={parcel} owner={true} expansion={false}/>\n              </Popup>\n            </Marker>\n            :            \n            <Marker position={parcel.latlng} key={`marker-${idx}`}  owner={false}>\n            <Popup>              \n              <ParcelDetails parcel={parcel} expansion={false}/>\n            </Popup>\n          </Marker>\n        })}\n\n        <Control>\n\n          <Fab color={addMode ? \"secondary\" : \"primary\"}\n            aria-label={addMode ? \"Add\" : \"View\"}\n            onClick={() => setAddMode(!addMode)}\n          >\n            {addMode ? <EditIcon /> : <Tooltip title=\"Edit\" aria-label=\"edit\"><MapIcon /></Tooltip>}\n          </Fab>\n        </Control>\n\n      </Map>\n\n      <ManageParcelDialog latlng={latlng} />\n    </div>\n\n  );\n\n}","import React, { useState } from \"react\";\nimport { CssBaseline } from \"@material-ui/core\";\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\n\nimport GlobalState from './context/GlobalState';\nimport MainAppBar from './components/MainAppBar';\nimport MainDrawer from './components/MainDrawer';\nimport MainMap from './components/MainMap';\n\n/**\n * @notice Global App Theme\n */\nconst theme = createMuiTheme({\n  palette: {\n    type: 'dark', // dark : light    \n  },\n});\n\n/**\n * @dev the Main App component\n * @param {*} props \n */\nexport default function App(props) {\n\n  /**\n   * @notice state variables \n   */\n\n  /** \n   * @notice rendering the component \n   */\n\n  return (\n    <div className=\"App\">\n      <GlobalState>\n        <ThemeProvider theme={theme}>\n\n          <CssBaseline />\n\n          <MainDrawer />\n\n          <MainAppBar/>\n\n          <MainMap />\n\n        </ThemeProvider>\n      </GlobalState>\n    </div>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}