{"version":3,"sources":["../node_modules/web3-eth-accounts/src sync","assets/parcels-icon.png","utils/getWeb3.js","utils/getOrbitDB.js","context/dela-context.js","context/GlobalState.js","components/MainAppBar.js","components/ConfirmRevokeDialog.js","components/ParcelDetails.js","components/MainDrawerContainer.js","components/MainDrawer.js","components/AppSnackbar.js","components/ParcelLandUseCodeAutoList.js","components/ManageParcelDialog.js","components/FeatureGroupMapToolBar.js","components/MainMap.js","pages/Footer.js","pages/About.js","pages/Dashboard.js","App.js","serviceWorker.js","index.js","assets/glyph-marker-icon.png"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","getWeb3","Promise","reject","window","addEventListener","a","async","ethereum","web3","Web3","enable","on","accounts","location","reload","console","log","provider","providers","HttpProvider","getOrbitDB","useHttp","getParcelGeoms","wkbHashs","ipfs","IpfsClient","OrbitDB","createInstance","then","orbitdb","options","accessController","write","kvstore","_kv","load","events","address","hash","entry","progress","total","payload","key","dbname","heads","forEach","IPFS","init","start","config","Bootstrap","error","React","createContext","contractParcelReg","parcelKVDB","parcelGeoms","setParcelGeoms","mainMapReference","setMainMapReference","parcels","claimParcel","lat","lng","wkbHash","parcelArea","parcelExtAddress","parcelLabel","parcelLandUseCode","cadastralType","updateParcel","parcelCadastralType","revokeParcel","parcel","updateMode","setUpdateMode","parcelToUpdate","setParcelToUpdate","manageParcelDialogOpen","openManageParcelDialog","closeManageParcelDialog","drawerOpen","toggleDrawer","GlobalState","props","claimEventBlocks","Set","revokeEventBlocks","useState","setWeb3","setAccounts","setContractParcelReg","setParcels","setParcelKVDB","setDrawerOpen","useEffect","kvDB","initWeb3","res","_web3","_accounts","_contract","LogParcelClaimed","fromBlock","err","eventParcelClaimed","LogFeatureRemoved","eventParcelRevoked","catch","eth","getAccounts","net","getId","networkId","deployedParcelReg","LAParcelRegistry","networks","Contract","abi","alert","geoms","geom","value","contract","returnValues","blockNumber","has","add","methods","dggsIndexExist","dggsIndex","call","fetchParcel","csc","utils","hexToUtf8","latlng","h3ToGeo","parcelDetails","addr","lbl","area","owner","filter","getFeature","featureAddress","LAParcel","Provider","h3Index","geoToH3","h3IndexHex","utf8ToHex","Number","send","from","result","transactionHash","setExtAddress","setLabel","setArea","setLandUseCode","setCadastralTypeCode","list","item","push","removeFeature","evt","children","useStyles","makeStyles","theme","toolbar","mixins","grow","display","flexGrow","appBar","zIndex","drawer","backgroundColor","menuButton","marginRight","spacing","title","marginTop","breakpoints","up","sectionDesktop","sectionMobile","MainAppBar","classes","anchorEl","setAnchorEl","mobileMoreAnchorEl","setMobileMoreAnchorEl","isMenuOpen","Boolean","isMobileMenuOpen","context","useContext","DelaContext","handleProfileMenuOpen","event","currentTarget","handleMobileMenuClose","handleMenuClose","menuId","renderMenu","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","open","onClose","MenuItem","onClick","renderMobileMenu","to","IconButton","aria-label","color","Badge","badgeContent","aria-controls","aria-haspopup","className","AppBar","position","Toolbar","edge","Typography","variant","noWrap","Button","ConfirmRevokeDialog","setOpen","handleClose","Dialog","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","card","minWidth","marginLeft","media","height","paddingTop","expand","transform","transition","transitions","create","duration","shortest","expandOpen","orangeAvatar","margin","deepOrange","purpleAvatar","deepPurple","typography","textAlign","content","paddingBottom","ParcelDetails","expanded","setExpanded","openConfirmDialog","setOpenConfirmDialog","ListItemIcon","fontSize","ListItemText","primary","Card","CardHeader","avatar","Avatar","action","subheader","CardContent","expansion","CardActions","disableSpacing","menu","Tooltip","leafletElement","setView","markersBounds","L","latLngBounds","markersCount","eachLayer","layer","Marker","extend","getLatLng","fitBounds","clsx","aria-expanded","Collapse","in","timeout","unmountOnExit","root","palette","background","default","MainDrawerContainer","Grid","container","map","xs","width","flexShrink","drawerPaper","drawerHeader","alignItems","padding","justifyContent","easing","sharp","leavingScreen","contentShift","easeOut","enteringScreen","search","borderRadius","shape","fade","common","white","searchIcon","pointerEvents","inputRoot","inputInput","MainDrawer","Drawer","anchor","paper","InputBase","placeholder","input","inputProps","Divider","AppSnackbar","Snackbar","snackbarOpen","autoHideDuration","ContentProps","message","Link","href","target","rel","suggestions","label","suggestion","valueContainer","flexWrap","flex","overflow","chip","chipFocused","emphasize","type","grey","noOptionsMessage","singleValue","left","bottom","right","divider","inputComponent","inputRef","ref","components","Control","innerProps","innerRef","selectProps","TextFieldProps","TextField","fullWidth","InputProps","Paper","square","MultiValue","Chip","tabIndex","isFocused","onDelete","removeProps","deleteIcon","NoOptionsMessage","Option","selected","component","style","fontWeight","isSelected","Placeholder","SingleValue","ValueContainer","ParcelLandUseCodeAutoList","useTheme","single","setSingle","selectStyles","base","text","font","NoSsr","styles","inputId","InputLabelProps","htmlFor","shrink","defaultInputValue","onChange","setParcelLandUseCode","CadastralTypeCode","PARCEL","BUILDING","secondary","AntSwitch","withStyles","switchBase","opacity","borderColor","thumb","boxShadow","track","border","checked","Switch","Transition","forwardRef","Slide","direction","ManageParcelDialog","setParcelLabel","parcelAddress","setParcelAddress","setParcelArea","setCadastralType","formValid","setFormValid","setTransactionHash","setSnackbarOpen","labelRef","createRef","addressRef","areaRef","fullScreen","TransitionComponent","PaperProps","overflowY","ReactDOM","findDOMNode","current","querySelector","_type","soliditySha3","geometryWKB","put","defaultValue","FeatureGroupMapToolBar","editFG","FeatureGroup","onCreated","fg","toGeoJSON","layerContainer","removeLayer","draw","rectangle","circle","circlemarker","polyline","edit","remove","lackingPoint","Icon","iconUrl","require","iconRetinaUrl","iconAnchor","popupAnchor","iconSize","myStyle","MainMap","addMode","setAddMode","setLatLng","setGeometryWKB","mapRef","locate","Map","center","zoom","onLocationfound","maxZoom","cursor","TileLayer","attribution","url","idx","icon","Popup","kvGeom","geojson","wkx","Geometry","parse","GeoJSON","data","Fab","size","parseGeoJSON","geometry","toWkb","coords","coordinates","gju","rectangleCentroid","Footer","md","src","Logo","maxHeight","alt","About","YouTube","videoId","opts","playerVars","autoplay","createMuiTheme","fontFamily","hostname","match","render","ThemeProvider","CssBaseline","path","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e0f2c7de.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 1165;","module.exports = \"data:image/png;base64,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\"","import Web3 from \"web3\";\n\nconst getWeb3 = () =>\n  new Promise((resolve, reject) => {\n    // Wait for loading completion to avoid race conditions with web3 injection timing.\n    window.addEventListener(\"load\", async () => {\n      // Modern dapp browsers...\n      if (window.ethereum) {\n        const web3 = new Web3(window.ethereum);\n        try {\n          // Request account access if needed\n          await window.ethereum.enable();\n          // Acccounts now exposed\n          \n          window.ethereum.on('accountsChanged', function (accounts) {\n            // Time to reload your interface with accounts[0]!\n            window.location.reload();\n          });\n          // .on('networkChanged', function (network) {\n          //   console.log('Network changed', network);\n          //   // not useful because Metamask reload the page automatically. \n          //   // This will not be the case in the future. \n          // });\n\n\n\n          resolve(web3);\n        } catch (error) {\n          reject(error);\n        }\n      }\n      // Legacy dapp browsers...\n      else if (window.web3) {\n        // Use Mist/MetaMask's provider.\n        const web3 = window.web3;\n        console.log(\"Injected web3 detected.\");\n        resolve(web3);\n      }\n      // Fallback to localhost; use dev console port by default...\n      else {\n        // const provider = new Web3.providers.HttpProvider(\n        //   \"https://rinkeby.infura.io/v3/3c9549d659c6477b9bbc86808f828119\"\n        // );\n        const provider = new Web3.providers.HttpProvider(\n          \"http://127.0.0.1:8545\"\n        );\n        const web3 = new Web3(provider);\n        console.log(\"No web3 instance injected, using Local web3.\");\n        resolve(web3);\n      }\n    });\n  });\n\nexport default getWeb3;\n","import IpfsClient from 'ipfs-http-client';\nimport IPFS from 'ipfs';\nimport OrbitDB from 'orbit-db';\n\nconst getOrbitDB = (useHttp, getParcelGeoms) =>\n  new Promise((resolve, reject) => {\n\n    // const useHttp = false;\n    var wkbHashs = [];\n\n    if (useHttp) {\n\n      const ipfs = IpfsClient('http://localhost:5001');\n      // const _ipfsHttp = IpfsClient('/ip4/127.0.0.1/tcp/5001');\n\n      OrbitDB.createInstance(ipfs).then(async (orbitdb) => {\n\n        const options = {\n          // Give write access to ourselves\n          accessController: {\n            write: ['*']\n          }\n        }\n\n        const _kv = await orbitdb.kvstore('land-parcels', options);\n        _kv.load();\n\n        _kv.events.on('load.progress', (address, hash, entry, progress, total) => {\n          // console.log('load', entry.payload.key);\n          wkbHashs = [...wkbHashs, entry.payload.key];\n        });\n        \n        _kv.events.on('ready', (dbname, heads) => {\n          // console.log('ready', dbname, heads, wkbHashs);\n          wkbHashs.forEach(hash => {\n            console.log(hash);\n            /*\n            setIPFSFeatures(ipfsFeatures => {\n              const geojson = wkx.Geometry.parse(_kv.get(hash)).toGeoJSON();\n              console.log(geojson);\n              const list = [...ipfsFeatures, { 'wkbHash': hash, 'geojson': geojson }];\n              return list;\n            });\n            */\n\n          });\n\n        });\n\n        _kv.events.on('write', (dbname, hash, entry) => {\n          console.log(entry); //entry[0].payload.value);\n          /*\n          setIPFSFeatures(ipfsFeatures => {\n            const geojson = wkx.Geometry.parse(entry[0].payload.value).toGeoJSON();\n            const list = [...ipfsFeatures, { 'wkbHash': entry[0].payload.key, 'geojson': geojson }];\n            return list;\n          });\n          */\n        });\n        resolve(_kv);\n        // setKVDBFeatures(_kv);\n      });\n    }\n    else {\n      var orbitdb = {};\n\n      const ipfs = new IPFS({\n        init: true,\n        start: true,\n        config: {\n          Bootstrap: [\n            \"/dns4/sgp-1.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLSafTMBsPKadTEgaXctDQVcqN88CNLHXMkTNwMKPnu\",\n            \"/dns4/ams-1.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLer265NRgSp2LA3dPaeykiS1J6DifTC88f5uVQKNAd\",\n            \"/dns4/lon-1.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLMeWqB7YGVLJN3pNLQpmmEk35v6wYtsMGLzSr5QBU3\",\n            \"/dns4/nyc-1.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLueR4xBeUbY9WZ9xGUUxunbKWcrNFTDAadQJmocnWm\",\n            \"/dns4/nyc-2.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLV4Bbm51jM9C4gDYZQ9Cy3U6aXMJDAbzgu2fzaDs64\"\n          ]\n        }\n      });\n\n      ipfs.on('error', (e) => console.error(e));\n\n      ipfs.on('ready', async () => {\n        orbitdb = await OrbitDB.createInstance(ipfs);\n\n        const options = {\n          // Give write access to ourselves\n          accessController: {\n            write: ['*']\n          }\n        }\n\n        const _kv = await orbitdb.kvstore('land-parcels', options);\n        _kv.load();\n\n        _kv.events.on('load.progress', getParcelGeoms );\n        \n        /*\n        _kv.events.on('load.progress', (address, hash, entry, progress, total) => {\n          // console.log('load', entry.payload.key);\n          wkbHashs = [...wkbHashs, entry.payload.key];\n        });\n        */\n\n        _kv.events.on('ready', (dbname, heads) => {\n          wkbHashs.forEach(hash => {\n            // console.log(hash);\n            \n            // setParcelGeoms(geom => {\n            //   const geojson = wkx.Geometry.parse(_kv.get(hash)).toGeoJSON();\n            //   // console.log(geojson);\n            //   const list = [...geom, { 'wkbHash': hash, 'geojson': geojson }];\n            //   return list;\n            // });\n            \n          });\n        });\n        \n\n        _kv.events.on('write', (dbname, hash, entry) => {\n          console.log(entry); //entry[0].payload.value);\n          /*\n          setIPFSFeatures(ipfsFeatures => {\n            const geojson = wkx.Geometry.parse(entry[0].payload.value).toGeoJSON();\n            const list = [...ipfsFeatures, { 'wkbHash': entry[0].payload.key, 'geojson': geojson }];\n            return list;\n          });\n          */\n        });\n\n        _kv.events.on('replicated', (dbname, hash, entry) => {\n          console.log('replication', entry); //entry[0].payload.value);\n        });\n\n        resolve(_kv);\n      // try {\n      // } catch (error) {\n      //   reject(error);\n      // }\n     \n        // setKVDBFeatures(_kv);\n      });\n    }\n  });\n\nexport default getOrbitDB;\n","import React from 'react';\n\nexport default React.createContext({\n    web3: {},\n    accounts: [],\n    contractParcelReg: {},\n\n    parcelKVDB : null,\n    parcelGeoms : [],\n    setParcelGeoms: () => {},\n\n    mainMapReference: {},\n    setMainMapReference: () => { },\n\n    parcels: [],\n    claimParcel: (lat, lng, wkbHash, parcelArea, parcelExtAddress, parcelLabel, parcelLandUseCode, cadastralType) => { },\n    updateParcel: (parcelArea, parcelExtAddress, parcelLabel, parcelLandUseCode, parcelCadastralType) => { },\n    revokeParcel: (parcel) => { },\n\n    updateMode: false,\n    setUpdateMode: () => { },\n    parcelToUpdate: {},\n    setParcelToUpdate: () => { },\n    manageParcelDialogOpen: false,\n    openManageParcelDialog: () => { },\n    closeManageParcelDialog: () => { },\n\n    drawerOpen: false,\n    toggleDrawer: () => { }\n});","import React, { useState, useEffect } from 'react';\nimport { geoToH3, h3ToGeo } from 'h3-js';\n\nimport getWeb3 from \"../utils/getWeb3\";\nimport getOrbitDB from \"../utils/getOrbitDB\";\n\nimport DelaContext from './dela-context';\n\nimport LAParcelRegistry from \"../contracts/LAParcelRegistry.json\";\nimport LAParcel from \"../contracts/LAParcel.json\";\n\n\nconst GlobalState = (props) => {\n    var claimEventBlocks = new Set();\n    var revokeEventBlocks = new Set();\n    /**\n     * @dev State variables\n     */\n    const [web3, setWeb3] = useState({});\n    const [accounts, setAccounts] = useState([]);\n    const [contractParcelReg, setContractParcelReg] = useState({});\n    const [parcels, setParcels] = useState([]);\n\n\n    const [parcelKVDB, setParcelKVDB] = useState(null);\n    const [parcelGeoms, setParcelGeoms] = useState([]);\n\n    const [updateMode, setUpdateMode] = useState(false);\n    const [manageParcelDialogOpen, openManageParcelDialog] = useState(false);\n    const [drawerOpen, setDrawerOpen] = useState(false);\n\n    const [parcelToUpdate, setParcelToUpdate] = useState({});\n\n    const [mainMapReference, setMainMapReference] = useState({});\n\n    /**\n     * UI events handlers\n     */\n\n    const closeManageParcelDialog = () => {\n        openManageParcelDialog(false);\n    };\n\n    const toggleDrawer = (evt) => {\n        setDrawerOpen(!drawerOpen);\n    };\n\n    /**\n     * @dev React Component useEffect Hook\n     * @notice with empty array as parameter effect will run just once when the component mounts \n     */\n\n    useEffect(() => {\n\n        getOrbitDB(false, getParcelGeoms).then((kvDB) => {\n            setParcelKVDB(kvDB);\n        }); //getOrbitDB\n\n        initWeb3()\n            .then((res) => {\n                const [_web3, _accounts, _contract] = res;\n                // Registring events handlers\n                _contract.events.LogParcelClaimed({ fromBlock: 0 }, (err, events) => {\n                    eventParcelClaimed(err, events, _web3, _accounts, _contract);\n                }).on('error', console.error);\n\n                _contract.events.LogFeatureRemoved({ fromBlock: 0 }, (err, events) => {\n                    eventParcelRevoked(err, events, _web3, _accounts, _contract);\n                }).on('error', console.error);\n            })\n            .catch(e => {\n                console.log(e);\n            });\n\n    }, []);\n\n\n    /**\n     * @dev init all Ethereum web3 useful varibales \n     * @notice web3, accounts, contracts instances,...\n     */\n\n    const initWeb3 = async () => {\n        var web3 = {};\n        var accounts = [];\n        var contractParcelReg = {};\n\n        try {\n            // Get network provider and web3 instance.\n            web3 = await getWeb3();\n            setWeb3(web3);\n\n            // Use web3 to get the user's accounts.\n            accounts = await web3.eth.getAccounts();\n            setAccounts(accounts);\n\n            // Get the contract instance.\n            const networkId = await web3.eth.net.getId();\n\n            const deployedParcelReg = LAParcelRegistry.networks[networkId];\n            contractParcelReg = new web3.eth.Contract(\n                LAParcelRegistry.abi,\n                deployedParcelReg && deployedParcelReg.address,\n            );\n            setContractParcelReg(contractParcelReg);\n\n            return [web3, accounts, contractParcelReg];\n\n        } catch (error) {\n            // Catch any errors for any of the above operations.\n            alert(\n                `Failed to load web3, accounts, or contract. Check console for details.`,\n            );\n            console.error(error);\n        }\n    }\n\n    /**\n     * @dev send a claim parcel transaction and handle results\n     */\n\n    const claimParcel = async (lat, lng, wkbHash, parcelArea,\n        parcelExtAddress, parcelLabel, parcelLandUseCode, cadastralType) => {\n\n        const h3Index = geoToH3(lat, lng, 15);  // Resolution (15) should be read from the registry \n        const h3IndexHex = web3.utils.utf8ToHex(h3Index);\n        const area = Number(parcelArea);\n\n        try {\n            const result = await contractParcelReg.methods.claimParcel(h3IndexHex, wkbHash,\n                parcelExtAddress, parcelLabel,\n                area, parcelLandUseCode, cadastralType)\n                .send({ from: accounts[0] });\n\n            return result.events.LogParcelClaimed.transactionHash;\n        }\n        catch (error) {\n            if (error.code === 4001) {\n                // handle the \"error\" as a rejection\n                alert(`Transaction cancelled by the user.`);\n            } else {\n                // Catch any errors for any of the above operations.\n                alert(`Failed to send Claim transaction for unknown reason, please check the console log.`,\n                );\n            }\n            console.error(error);\n        }\n    };\n\n    /**\n     * @notice Handle Smart contract log events : claimParcel\n     */\n\n    const getParcelGeoms = (address, hash, entry, progress, total) => {\n        // console.log('load----', entry.payload);\n        setParcelGeoms(geoms => {\n            const geom = {'wkbHash': entry.payload.key, 'geom': entry.payload.value }\n            const list = [...geoms, geom];\n            return list;\n        });\n    }\n\n    const eventParcelClaimed = async (err, events, web3, accounts, contract) => {\n\n        const res = events.returnValues;\n\n        // Workaround to avoid duplicated event firing \n        let blockNumber = events.blockNumber;\n        if (claimEventBlocks.has(blockNumber)) return;\n        claimEventBlocks.add(blockNumber);\n\n        // check if the parcel haven't been removed before adding it\n        const featureExist = await contract.methods.dggsIndexExist(res.dggsIndex).call();\n        if (!featureExist) return;\n\n        const parcel = await fetchParcel(res.csc, web3, contract); // get the updated values for the parcel\n\n        const dggsIndex = web3.utils.hexToUtf8(res.dggsIndex); // Be aware of change in dggsIndex\n        const latlng = h3ToGeo(dggsIndex);\n\n        const parcelDetails = {\n            csc: parcel.csc, latlng, addr: parcel.addr, lbl: parcel.lbl,\n            area: parcel.area, parcelLandUseCode: parcel.parcelLandUseCode,\n            owner: parcel.owner, cadastralType: parcel.cadastralType, wkbHash: res.wkbHash\n        };\n\n        setParcels(parcels => {\n            const list = [...parcels, parcelDetails];\n            return list;\n        });\n    }\n\n    /**\n     * @dev revokeParcel\n     */\n    const revokeParcel = async (parcel) => {\n\n        try {\n            const result = await contractParcelReg.methods.removeFeature(parcel.csc).send({ from: accounts[0] });\n            return result.events.LogFeatureRemoved.transactionHash;\n        }\n        catch (error) {\n            console.error(error);\n        }\n\n    }\n\n    /**\n     * @notice Handle Smart contract log events : LogFeatureRemoved\n     */\n\n    const eventParcelRevoked = (err, events, _web3, _accounts, _contract) => {\n\n        // Workaround to avoid duplicated event firing \n        let blockNumber = events.blockNumber;\n        if (revokeEventBlocks.has(blockNumber)) return;\n        revokeEventBlocks.add(blockNumber);\n\n        const csc = events.returnValues.csc;\n        setParcels(parcels => {\n            const list = parcels.filter((parcel) => parcel.csc !== csc);\n            return list;\n        });\n    }\n\n    /**\n     * @dev updateParcel\n     * @TODO  implement updates\n     */\n    const updateParcel = async (parcelArea, parcelExtAddress, parcelLabel, parcelLandUseCode, parcelCadastralType) => {\n\n        try {\n            const featureAddress = await contractParcelReg.methods.getFeature(parcelToUpdate.csc).call();\n            const parcel = new web3.eth.Contract(LAParcel.abi, featureAddress);\n\n            var res = null;\n            if (parcelExtAddress !== parcelToUpdate.addr)\n             res = await parcel.methods.setExtAddress(parcelExtAddress).send({ from: accounts[0] });\n\n            if (parcelLabel !== parcelToUpdate.lbl)\n             res = await parcel.methods.setLabel(parcelLabel).send({ from: accounts[0] });\n\n            if (parcelArea !== parcelToUpdate.area)\n             res = await parcel.methods.setArea(Number(parcelArea)).send({ from: accounts[0] });\n\n            if (parcelLandUseCode !== parcelToUpdate.parcelLandUseCode)\n             res = await parcel.methods.setLandUseCode(parcelLandUseCode).send({ from: accounts[0] });\n\n             if (parcelCadastralType !== parcelToUpdate.parcelCadastralType)\n             res = await parcel.methods.setCadastralTypeCode(parcelCadastralType).send({ from: accounts[0] });\n\n            setParcels(parcels => {\n                const list = parcels.filter((item) => item.csc !== parcelToUpdate.csc);\n                \n                const parcelDetails = {\n                    csc: parcelToUpdate.csc, latlng : parcelToUpdate.latlng, owner: parcelToUpdate.owner,\n                    addr: parcelExtAddress, lbl: parcelLabel,\n                    area: parcelArea, parcelLandUseCode, cadastralType : parcelCadastralType\n                };\n\n                list.push(parcelDetails);\n\n                return list;\n            });\n        \n            if (res) return res.transactionHash;\n            else return \"\";\n        }\n        catch (error) {\n            console.error(error);\n        }\n\n    }\n\n    /**\n     * @dev returns the attributes of the parcel \n     */\n\n    const fetchParcel = async (csc, web3, contractParcelReg) => {\n\n        const featureAddress = await contractParcelReg.methods.getFeature(csc).call();\n        const parcel = new web3.eth.Contract(LAParcel.abi, featureAddress);\n        const res = await parcel.methods.fetchParcel().call();\n        const owner = await parcel.methods.owner().call();\n        \n        return { csc: res[0], lbl: res[1], addr : res[2],\n                 parcelLandUseCode: res[3], area: res[4], \n                 owner: owner, cadastralType : res[5] };\n    };\n\n    /**\n     * Render function\n     */\n\n    return (\n        <DelaContext.Provider value={{\n            web3,\n            accounts,\n            contractParcelReg,\n\n            parcelKVDB,\n            parcelGeoms,\n            setParcelGeoms,\n            \n            mainMapReference,\n            setMainMapReference,\n\n            parcels,\n            claimParcel,\n            updateParcel,\n            revokeParcel,\n\n            updateMode,\n            setUpdateMode,\n            parcelToUpdate,\n            setParcelToUpdate,\n            manageParcelDialogOpen,\n            openManageParcelDialog,\n            closeManageParcelDialog,\n\n            drawerOpen,\n            toggleDrawer\n        }}>\n            {props.children}\n\n        </DelaContext.Provider>\n    );\n}\n\nexport default GlobalState;","import React, { useContext } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport Badge from '@material-ui/core/Badge';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport InfoIcon from '@material-ui/icons/Info';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport MoreIcon from '@material-ui/icons/MoreVert';\nimport Button from '@material-ui/core/Button';\nimport {\n    Link\n  } from \"react-router-dom\";\n\nimport DelaContext from '../context/dela-context';\n\nconst useStyles = makeStyles(theme => ({\n    toolbar: theme.mixins.toolbar,\n    grow: {\n        display: 'flex',\n        flexGrow: 1,\n    },\n    appBar: {\n        zIndex: theme.zIndex.drawer + 1,\n        backgroundColor: '#3f3d4b',\n    },\n\n    menuButton: {\n        marginRight: theme.spacing(2),\n    },\n    title: {\n        marginTop: 4,\n        display: 'none',\n        [theme.breakpoints.up('sm')]: {\n            display: 'block',\n        },\n    },\n    sectionDesktop: {\n        display: 'none',\n        [theme.breakpoints.up('md')]: {\n            display: 'flex',\n        },\n    },\n    sectionMobile: {\n        display: 'flex',\n        [theme.breakpoints.up('md')]: {\n            display: 'none',\n        },\n    },\n}));\n\nexport default function MainAppBar(props) {\n    const classes = useStyles();\n\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState(null);\n\n    const isMenuOpen = Boolean(anchorEl);\n    const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\n\n    const context = useContext(DelaContext);\n\n    const handleProfileMenuOpen = event => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleMobileMenuClose = () => {\n        setMobileMoreAnchorEl(null);\n    };\n\n    const handleMenuClose = () => {\n        setAnchorEl(null);\n        handleMobileMenuClose();\n    };\n\n    const handleMobileMenuOpen = event => {\n        setMobileMoreAnchorEl(event.currentTarget);\n    };\n\n\n    const menuId = 'primary-search-account-menu';\n    const renderMenu = (\n        <Menu\n            anchorEl={anchorEl}\n            anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n            id={menuId}\n            keepMounted\n            transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n            open={isMenuOpen}\n            onClose={handleMenuClose}\n        >\n            <MenuItem onClick={handleMenuClose}>Profile</MenuItem>\n            <MenuItem onClick={handleMenuClose}>My account</MenuItem>\n        </Menu>\n    );\n\n    const mobileMenuId = 'primary-search-account-menu-mobile';\n    const renderMobileMenu = (\n        <Menu\n            anchorEl={mobileMoreAnchorEl}\n            anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n            id={mobileMenuId}\n            keepMounted\n            transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n            open={isMobileMenuOpen}\n            onClose={handleMobileMenuClose}\n        >\n            <Link to=\"/about\">\n                <MenuItem>\n                    <IconButton aria-label=\"About\" color=\"inherit\">\n                        <InfoIcon />\n                    </IconButton>\n                    <p >About</p>\n                </MenuItem>\n            </Link>\n            <MenuItem>\n                <IconButton aria-label=\"show 11 new notifications\" color=\"inherit\">\n                    <Badge badgeContent={11} color=\"secondary\">\n                        <NotificationsIcon />\n                    </Badge>\n                </IconButton>\n                <p>Notifications</p>\n            </MenuItem>\n            <MenuItem onClick={handleProfileMenuOpen}>\n                <IconButton\n                    aria-label=\"account of current user\"\n                    aria-controls=\"primary-search-account-menu\"\n                    aria-haspopup=\"true\"\n                    color=\"inherit\"\n                >\n                    <AccountCircle />\n                </IconButton>\n                <p>Profile</p>\n            </MenuItem>\n        </Menu>\n    );\n\n\n    return (\n        <div className={classes.grow}>\n            <AppBar position=\"static\" className={classes.appBar}>\n                <Toolbar>\n                    <IconButton\n                        edge=\"start\"\n                        className={classes.menuButton}\n                        color=\"inherit\"\n                        aria-label=\"open drawer\"\n                        onClick={context.toggleDrawer}\n                    >\n                        <MenuIcon />\n                    </IconButton>\n\n                    <Typography className={classes.title} variant=\"h6\" noWrap>\n                        DeLA : Decentralized Crowd Sourcing Land Administration\n                    </Typography>\n\n                    <div className={classes.grow} />\n                    <div className={classes.sectionDesktop}>\n                        <Link to=\"/about\">\n                            <Button color=\"secondary\" variant=\"outlined\">About</Button>\n                        </Link>\n                        <IconButton aria-label=\"show new notifications\" color=\"inherit\">\n                            <Badge badgeContent={17} color=\"secondary\">\n                                <NotificationsIcon />\n                            </Badge>\n                        </IconButton>\n                        <IconButton\n                            edge=\"end\"\n                            aria-label=\"account of current user\"\n                            aria-controls={menuId}\n                            aria-haspopup=\"true\"\n                            onClick={handleProfileMenuOpen}\n                            color=\"inherit\"\n                        >\n                            <AccountCircle />\n                        </IconButton>\n                    </div>\n                    <div className={classes.sectionMobile}>\n                        <IconButton\n                            aria-label=\"show more\"\n                            aria-controls={mobileMenuId}\n                            aria-haspopup=\"true\"\n                            onClick={handleMobileMenuOpen}\n                            color=\"inherit\"\n                        >\n                            <MoreIcon />\n                        </IconButton>\n                    </div>\n                </Toolbar>\n            </AppBar>\n            {renderMobileMenu}\n            {renderMenu}\n        </div>\n    );\n}\n","import React, { useContext } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport DelaContext from '../context/dela-context';\n\nexport default function ConfirmRevokeDialog({open, setOpen, parcel}) {\n  // const [open, setOpen] = React.useState(false);\n\n  const context = useContext(DelaContext);\n\n  const handleRevokeParcel = () => {\n    context.revokeParcel(parcel);\n    setOpen(false);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">{\"Revoke your ownership of this parcel?\"}</DialogTitle>\n        <DialogContent>\n        <DialogContentText id=\"alert-dialog-description\">\n\n          Are you sur you want to revoke your ownership of this parcel. <br/>\n           Label : {parcel.lbl} / Address : {parcel.addr} / Land use : {parcel.parcelLandUseCode}\n\n        </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleRevokeParcel} color=\"secondary\" >\n            Revoke\n          </Button>\n          <Button onClick={handleClose} color=\"primary\" autoFocus variant=\"contained\">\n            Cancel\n          </Button>\n        </DialogActions>\n      </Dialog>\n  );\n}\n","\nimport React, { useContext } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport Collapse from '@material-ui/core/Collapse';\nimport Avatar from '@material-ui/core/Avatar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport { deepOrange, deepPurple } from '@material-ui/core/colors';\nimport AutorenewIcon from '@material-ui/icons/Autorenew';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport ReportIcon from '@material-ui/icons/Report';\nimport ZoomInIcon from '@material-ui/icons/ZoomIn';\nimport ZoomOutMapIcon from '@material-ui/icons/ZoomOutMap';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport AddShoppingCartIcon from '@material-ui/icons/AddShoppingCart';\n\nimport L from 'leaflet';\n\nimport DelaContext from '../context/dela-context';\nimport ConfirmRevokeDialog from './ConfirmRevokeDialog';\n\nconst useStyles = makeStyles(theme => ({\n  card: {\n    minWidth: 150,\n    marginLeft: theme.spacing(0.5),\n    marginRight: theme.spacing(0.5)\n  },\n  media: {\n    height: 0,\n    paddingTop: '56.25%', // 16:9\n  },\n  expand: {\n    transform: 'rotate(0deg)',\n    marginLeft: 'auto',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)',\n  },\n\n  orangeAvatar: {\n    margin: 10,\n    color: '#fff',\n    backgroundColor: deepOrange[500],\n  },\n  purpleAvatar: {\n    margin: 10,\n    color: '#fff',\n    backgroundColor: deepPurple[500],\n  },\n  typography: {\n    textAlign: \"left\",\n  },\n  content: {\n    paddingTop:1,\n    \"&:last-child\": {\n      paddingBottom: 3\n    }\n  },\n\n}));\n\nexport default function ParcelDetails(props) {\n  const classes = useStyles();\n  const [expanded, setExpanded] = React.useState(false);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const [openConfirmDialog, setOpenConfirmDialog] = React.useState(false);\n\n  const isMenuOpen = Boolean(anchorEl);\n\n  const context = useContext(DelaContext);\n\n  /**\n   * @dev Events handlers \n   */\n\n  const handleUpdateParcelClick = (e) => {\n    context.setParcelToUpdate(props.parcel);\n    context.setUpdateMode(true);\n    context.openManageParcelDialog(true);\n  }\n\n  const handleManageParcelMenuOpen = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleExpandClick = () => {\n    setExpanded(!expanded);\n  };\n\n  const handleZoomInClick =(e) => {\n    context.mainMapReference.leafletElement.setView(props.parcel.latlng, 15);\n  }\n\n  const handleZoomToContentClick =(e) => {\n    var markersBounds = L.latLngBounds();\n    var markersCount = 0;\n    context.mainMapReference.leafletElement.eachLayer((layer) => {\n      if (layer instanceof L.Marker) {\n        markersBounds.extend(layer.getLatLng());\n        markersCount += 1;\n      }\n    });\n\n    if (markersCount > 1)     \n      context.mainMapReference.leafletElement.fitBounds(markersBounds);\n    else\n      context.mainMapReference.leafletElement.setView(props.parcel.latlng, 15);\n\n  }\n\n  const menuId = 'primary-manage-parcel-menu';\n  const renderMenu = (\n    <Menu\n      anchorEl={anchorEl}\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n      id={menuId}\n      keepMounted\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n      open={isMenuOpen}\n      onClose={handleMenuClose}\n    >\n      {props.owner ?\n        <div>\n          <MenuItem onClick={handleUpdateParcelClick}>\n            <ListItemIcon>\n              <AutorenewIcon fontSize=\"small\" />\n            </ListItemIcon>\n            <ListItemText primary=\"Update\" />\n          </MenuItem>\n          <MenuItem onClick={() => setOpenConfirmDialog(true)}>\n            <ListItemIcon>\n              <DeleteForeverIcon fontSize=\"small\" />\n            </ListItemIcon>\n            <ListItemText primary=\"Revoke\" />\n          </MenuItem>\n        </div>\n        :\n        <div>\n          <MenuItem onClick={handleMenuClose}>\n            <ListItemIcon>\n              <AddShoppingCartIcon fontSize=\"small\" />\n            </ListItemIcon>\n            <ListItemText primary=\"Bid\" />\n          </MenuItem>\n          <MenuItem onClick={handleMenuClose}>\n            <ListItemIcon>\n              <ReportIcon fontSize=\"small\" />\n            </ListItemIcon>\n            <ListItemText primary=\"Dispute\" />\n          </MenuItem>\n        </div>\n      }\n    </Menu>\n  );\n\n  return (\n    <div>\n      <Card className={classes.card}>\n        <CardHeader\n          avatar={props.owner ?\n            <Avatar aria-label=\"owner\" className={classes.purpleAvatar}>\n              O\n            </Avatar>\n              :\n            <Avatar aria-label=\"laker\" className={classes.orangeAvatar}>\n                NO\n            </Avatar>\n            }\n          action={\n            <IconButton aria-label=\"settings\" onClick={handleManageParcelMenuOpen}>\n              <MoreVertIcon />\n            </IconButton>\n          }          \n          title={props.parcel.lbl}\n          subheader={props.parcel.cadastralType === 1 ?\n            <span>BUILDING</span>\n            :\n            <span>PARCEL</span>\n          }\n        />\n        {/* <CardMedia\n        className={classes.media}\n        image=\"/static/images/cards/paella.jpg\"\n        title=\"Paella dish\"\n      /> */}\n        <CardContent className={classes.content}>\n        <Typography className={classes.typography}> Land Use : {props.parcel.parcelLandUseCode}</Typography>\n        <Typography className={classes.typography}> Area : {props.parcel.area} </Typography>\n        </CardContent>\n        {props.expansion &&\n        <div>\n          <CardActions disableSpacing>\n            <div className={classes.menu}>\n              <Tooltip title=\"Zoom in\" onClick={handleZoomInClick}>\n                <IconButton aria-label=\"zoomin\">\n                  <ZoomInIcon />\n                </IconButton>\n              </Tooltip>\n              <Tooltip title=\"Zoom to content\" >\n                <IconButton aria-label=\"zoomcontent\" onClick={handleZoomToContentClick}>\n                  <ZoomOutMapIcon />\n                </IconButton>\n              </Tooltip>\n            </div>\n            <IconButton\n              className={clsx(classes.expand, {\n                [classes.expandOpen]: expanded,\n              })}\n              onClick={handleExpandClick}\n              aria-expanded={expanded}\n              aria-label=\"show more\"\n            >\n              <ExpandMoreIcon />\n            </IconButton>\n\n          </CardActions>\n          <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n            <CardContent className={classes.content}>\n            <Typography className={classes.typography}> Address : {props.parcel.addr}</Typography>\n            </CardContent>\n          </Collapse>\n        </div>\n      }\n      </Card>\n      <ConfirmRevokeDialog open={openConfirmDialog}\n        setOpen={setOpenConfirmDialog}\n        parcel={props.parcel}\n      />\n      {renderMenu}\n    </div>\n  );\n}\n","import React, { useContext } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\n\nimport DelaContext from '../context/dela-context';\nimport ParcelDetails from './ParcelDetails';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,    \n    backgroundColor: theme.palette.background.default,\n  },  \n}));\n\nexport default function MainDrawerContainer(props) {\n  const classes = useStyles();\n  const context = useContext(DelaContext);\n\n  return (\n    <Grid container className={classes.root} spacing={1}>\n      {context.parcels.map(parcel => {\n        return parcel.owner === context.accounts[0] ?\n          <Grid item xs={12} key={parcel.csc}>\n            <ParcelDetails parcel={parcel} owner={true} expansion={true}/>\n          </Grid>\n          :\n          null\n      }\n      )}\n    </Grid >\n  );\n}\n","import React, { useContext } from 'react';\nimport { fade, makeStyles } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport SearchIcon from '@material-ui/icons/Search';\nimport InputBase from '@material-ui/core/InputBase';\n\nimport MainDrawerContainer from './MainDrawerContainer';\nimport DelaContext from '../context/dela-context';\n\n/**\n * @notice Styles\n */\nconst drawerWidth = 340;\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n  },\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-end',\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(1),\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    marginLeft: -drawerWidth,\n  },\n  contentShift: {\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginLeft: 0,\n  },\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.common.white, 0.25),\n    },\n    marginRight: theme.spacing(2),\n    marginLeft: 0,\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(3),\n      width: 'auto',\n    },\n  },\n  searchIcon: {\n    width: theme.spacing(7),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  inputRoot: {\n    color: 'inherit',\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 7),\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('md')]: {\n      width: 200,\n    },\n  },\n\n  toolbar: theme.mixins.toolbar,\n}));\n\n/**\n * @dev React functional component \n */\n\nexport default function MainDrawer(props) {\n  const classes = useStyles();\n  const context = useContext(DelaContext);\n\n  return (\n\n    <Drawer\n      className={classes.drawer}\n      variant=\"persistent\"\n      anchor=\"left\"\n      open={context.drawerOpen}\n      classes={{\n        paper: classes.drawerPaper,\n      }}\n    >\n      <div className={classes.toolbar}></div>\n      <div className={classes.drawerHeader}>\n        <div className={classes.search}>\n          <div className={classes.searchIcon}>\n            <SearchIcon />\n          </div>\n          <InputBase\n            placeholder=\"Search for parcels \"\n            classes={{\n              root: classes.inputRoot,\n              input: classes.inputInput,\n            }}\n            inputProps={{ 'aria-label': 'search' }}\n          />\n        </div>\n        <IconButton onClick={context.toggleDrawer}>\n          <CloseIcon />\n        </IconButton>\n      </div>\n      <Divider />\n\n      <MainDrawerContainer />\n\n    </Drawer>\n\n  );\n}\n","import React from \"react\";\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Link from '@material-ui/core/Link';\n\nexport default function AppSnackbar(props) {\n\n    return (\n        <Snackbar\n            anchorOrigin={{ vertical: 'bottom',  horizontal: 'right' }}\n            key={`${'bottom'},${'right'}`}\n            open={props.snackbarOpen}\n            // onClose={handleSnackbarClose}\n            autoHideDuration={6000}\n            ContentProps={{\n                'aria-describedby': 'message-id',\n            }}\n            message={\n                <span id=\"message-id\">\n                    <Link href={\"https://rinkeby.etherscan.io/tx/\" + props.transactionHash}\n                        target=\"_blank\"\n                        rel=\"noopener\">\n                        Claimed parcel added to the immutable Registry\n                    </Link>\n                </span>}\n         />\n    );\n\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport Select from 'react-select';\nimport { emphasize, makeStyles, useTheme } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport NoSsr from '@material-ui/core/NoSsr';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport Chip from '@material-ui/core/Chip';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport CancelIcon from '@material-ui/icons/Cancel';\n\nconst suggestions = [\n  { label: 'Residential' },\n  { label: 'Commercial' },\n  { label: 'Argricultural' },\n  { label: 'Industrial' },\n  { label: 'Forest' },\n  { label: 'Fishery' },\n].map(suggestion => ({\n  value: suggestion.label,\n  label: suggestion.label,\n}));\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    minWidth: 290,\n  },\n  input: {\n    display: 'flex',\n    padding: 0,\n    height: 'auto',\n  },\n  valueContainer: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    flex: 1,\n    alignItems: 'center',\n    overflow: 'hidden',\n  },\n  chip: {\n    margin: theme.spacing(0.5, 0.25),\n  },\n  chipFocused: {\n    backgroundColor: emphasize(\n      theme.palette.type === 'light' ? theme.palette.grey[300] : theme.palette.grey[700],\n      0.08,\n    ),\n  },\n  noOptionsMessage: {\n    padding: theme.spacing(1, 2),\n  },\n  singleValue: {\n    fontSize: 16,\n  },\n  placeholder: {\n    position: 'absolute',\n    left: 2,\n    bottom: 6,\n    fontSize: 16,\n  },\n  paper: {\n    position: 'absolute',\n    zIndex: 10,\n    marginTop: theme.spacing(1),\n    left: 0,\n    right: 0,\n  },\n  divider: {\n    height: theme.spacing(2),\n  },\n}));\n\nfunction NoOptionsMessage(props) {\n  return (\n    <Typography\n      color=\"textSecondary\"\n      className={props.selectProps.classes.noOptionsMessage}\n      {...props.innerProps}\n    >\n      {props.children}\n    </Typography>\n  );\n}\n\nNoOptionsMessage.propTypes = {\n  /**\n   * The children to be rendered.\n   */\n  children: PropTypes.node,\n  /**\n   * Props to be passed on to the wrapper.\n   */\n  innerProps: PropTypes.object.isRequired,\n  selectProps: PropTypes.object.isRequired,\n};\n\nfunction inputComponent({ inputRef, ...props }) {\n  return <div ref={inputRef} {...props} />;\n}\n\ninputComponent.propTypes = {\n  inputRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({\n      current: PropTypes.any.isRequired,\n    }),\n  ]),\n};\n\nfunction Control(props) {\n  const {\n    children,\n    innerProps,\n    innerRef,\n    selectProps: { classes, TextFieldProps },\n  } = props;\n\n  return (\n    <TextField\n      fullWidth\n      InputProps={{\n        inputComponent,\n        inputProps: {\n          className: classes.input,\n          ref: innerRef,\n          children,\n          ...innerProps,\n        },\n      }}\n      {...TextFieldProps}\n    />\n  );\n}\n\nControl.propTypes = {\n  /**\n   * Children to render.\n   */\n  children: PropTypes.node,\n  /**\n   * The mouse down event and the innerRef to pass down to the controller element.\n   */\n  innerProps: PropTypes.shape({\n    onMouseDown: PropTypes.func.isRequired,\n  }).isRequired,\n  innerRef: PropTypes.oneOfType([\n    PropTypes.oneOf([null]),\n    PropTypes.func,\n    PropTypes.shape({\n      current: PropTypes.any.isRequired,\n    }),\n  ]).isRequired,\n  selectProps: PropTypes.object.isRequired,\n};\n\nfunction Option(props) {\n  return (\n    <MenuItem\n      ref={props.innerRef}\n      selected={props.isFocused}\n      component=\"div\"\n      style={{\n        fontWeight: props.isSelected ? 500 : 400,\n      }}\n      {...props.innerProps}\n    >\n      {props.children}\n    </MenuItem>\n  );\n}\n\nOption.propTypes = {\n  /**\n   * The children to be rendered.\n   */\n  children: PropTypes.node,\n  /**\n   * props passed to the wrapping element for the group.\n   */\n  innerProps: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    // key: PropTypes.string.isRequired,\n    onClick: PropTypes.func.isRequired,\n    onMouseMove: PropTypes.func.isRequired,\n    onMouseOver: PropTypes.func.isRequired,\n    tabIndex: PropTypes.number.isRequired,\n  }).isRequired,\n  /**\n   * Inner ref to DOM Node\n   */\n  innerRef: PropTypes.oneOfType([\n    PropTypes.oneOf([null]),\n    PropTypes.func,\n    PropTypes.shape({\n      current: PropTypes.any.isRequired,\n    }),\n  ]), //.isRequired,\n  /**\n   * Whether the option is focused.\n   */\n  isFocused: PropTypes.bool.isRequired,\n  /**\n   * Whether the option is selected.\n   */\n  isSelected: PropTypes.bool.isRequired,\n};\n\nfunction Placeholder(props) {\n  const { selectProps, innerProps = {}, children } = props;\n  return (\n    <Typography color=\"textSecondary\" className={selectProps.classes.placeholder} {...innerProps}>\n      {children}\n    </Typography>\n  );\n}\n\nPlaceholder.propTypes = {\n  /**\n   * The children to be rendered.\n   */\n  children: PropTypes.node,\n  /**\n   * props passed to the wrapping element for the group.\n   */\n  innerProps: PropTypes.object,\n  selectProps: PropTypes.object.isRequired,\n};\n\nfunction SingleValue(props) {\n  return (\n    <Typography className={props.selectProps.classes.singleValue} {...props.innerProps}>\n      {props.children}\n    </Typography>\n  );\n}\n\nSingleValue.propTypes = {\n  /**\n   * The children to be rendered.\n   */\n  children: PropTypes.node,\n  /**\n   * Props passed to the wrapping element for the group.\n   */\n  // innerProps: PropTypes.any.isRequired,\n  // selectProps: PropTypes.object.isRequired,\n};\n\nfunction ValueContainer(props) {\n  return <div className={props.selectProps.classes.valueContainer}>{props.children}</div>;\n}\n\nValueContainer.propTypes = {\n  /**\n   * The children to be rendered.\n   */\n  children: PropTypes.node,\n  selectProps: PropTypes.object.isRequired,\n};\n\nfunction MultiValue(props) {\n  return (\n    <Chip\n      tabIndex={-1}\n      label={props.children}\n      className={clsx(props.selectProps.classes.chip, {\n        [props.selectProps.classes.chipFocused]: props.isFocused,\n      })}\n      onDelete={props.removeProps.onClick}\n      deleteIcon={<CancelIcon {...props.removeProps} />}\n    />\n  );\n}\n\nMultiValue.propTypes = {\n  children: PropTypes.node,\n  isFocused: PropTypes.bool.isRequired,\n  removeProps: PropTypes.shape({\n    onClick: PropTypes.func.isRequired,\n    onMouseDown: PropTypes.func.isRequired,\n    onTouchEnd: PropTypes.func.isRequired,\n  }).isRequired,\n  selectProps: PropTypes.object.isRequired,\n};\n\nfunction Menu(props) {\n  return (\n    <Paper square className={props.selectProps.classes.paper} {...props.innerProps}>\n      {props.children}\n    </Paper>\n  );\n}\n\nMenu.propTypes = {\n  /**\n   * The children to be rendered.\n   */\n  children: PropTypes.element.isRequired,\n  /**\n   * Props to be passed to the menu wrapper.\n   */\n  innerProps: PropTypes.object.isRequired,\n  selectProps: PropTypes.object.isRequired,\n};\n\nconst components = {\n  Control,\n  Menu,\n  MultiValue,\n  NoOptionsMessage,\n  Option,\n  Placeholder,\n  SingleValue,\n  ValueContainer,\n};\n\nexport default function ParcelLandUseCodeAutoList(props) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [single, setSingle] = React.useState('Building');\n\n  const handleChangeSingle = value => {\n    props.setParcelLandUseCode(value);\n    setSingle(value);\n  };\n\n  const selectStyles = {\n    input: base => ({\n      ...base,\n      color: theme.palette.text.primary,\n      '& input': {\n        font: 'inherit',\n      },\n    }),\n  };\n\n  return (\n    <div className={classes.root}>\n      <NoSsr>\n        <Select\n          classes={classes}\n          styles={selectStyles}\n          inputId=\"react-select-single\"\n          TextFieldProps={{\n            label: 'Parcel Land Use Code',\n            InputLabelProps: {\n              htmlFor: 'react-select-single',\n              shrink: true,\n            },\n          }}\n          placeholder=\"Search parcel Land Use Code\"\n          options={suggestions}\n          components={components}\n          value={single}\n          defaultInputValue={props.parcelLandUseCode}\n          onChange={handleChangeSingle}\n        />       \n      </NoSsr>\n    </div>\n  );\n}\n","import React, { useState, useContext, createRef } from 'react';\nimport ReactDOM from 'react-dom';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport TextField from '@material-ui/core/TextField';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Grid from '@material-ui/core/Grid';\nimport Switch from '@material-ui/core/Switch';\nimport Slide from '@material-ui/core/Slide';\nimport Paper from '@material-ui/core/Paper';\n\nimport web3 from 'web3';\n\nimport DelaContext from '../context/dela-context';\nimport AppSnackbar from './AppSnackbar';\nimport ParcelLandUseCodeAutoList from './ParcelLandUseCodeAutoList';\n\n\nconst CadastralTypeCode = {PARCEL : 0, BUILDING : 1};\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    height: 250,\n  },\n  appBar: {\n    position: 'relative',\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  paper: {\n    padding: theme.spacing(2),\n    color: theme.palette.text.secondary,\n    backgroundColor: theme.palette.background.default,\n  },\n}));\n\nconst AntSwitch = withStyles(theme => ({\n  root: {\n    width: 28,\n    height: 16,\n    padding: 0,\n    display: 'flex',\n  },\n  \n  switchBase: {\n      padding: 2,\n      color: theme.palette.grey[500],\n      '&$checked': {\n        transform: 'translateX(12px)',\n        color: theme.palette.common.white,\n      '& + $track': {\n        opacity: 1,\n        backgroundColor: theme.palette.primary.secondary,\n        borderColor: theme.palette.primary.secondary,\n      },\n    },\n  },\n  thumb: {\n    width: 12,\n    height: 12,\n    boxShadow: 'none',\n  },\n  track: {\n    border: `1px solid ${theme.palette.grey[500]}`,\n    borderRadius: 16 / 2,\n    opacity: 1,\n    backgroundColor: theme.palette.common.white,\n  },\n  checked: {},\n}))(Switch);\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ManageParcelDialog(props) {\n\n  const classes = useStyles();\n\n  /**\n   * @dev state variables\n   */\n  const [parcelLabel, setParcelLabel] = useState(\"\");\n  const [parcelAddress, setParcelAddress] = useState(\"\");\n  const [parcelArea, setParcelArea] = useState(\"\");\n  const [parcelLandUseCode, setParcelLandUseCode] = useState(\"\");\n  const [cadastralType, setCadastralType] = React.useState(false);\n\n  const [formValid, setFormValid] = useState(true)\n\n  const [transactionHash, setTransactionHash] = useState(\"\");\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\n\n\n  const context = useContext(DelaContext);\n\n  const labelRef = createRef();\n  const addressRef = createRef();\n  const areaRef = createRef();  \n\n  /**\n   * @dev Claim Parcel onClick event handler\n   */\n\n  const handleClaimParcel = async () => {\n    if (parcelArea === \"\" || parcelArea < 0 || parcelLabel === \"\" || parcelLandUseCode === \"\" || parcelAddress === \"\") {\n      setFormValid(false);\n    }\n    else {\n      const lat = props.latlng.lat;\n      const lng = props.latlng.lng;\n\n      const parcelCadastralType = cadastralType ? CadastralTypeCode.BUILDING : CadastralTypeCode.PARCEL;\n      \n      const wkbHash = web3.utils.soliditySha3(props.geometryWKB);\n\n      const result = await context.claimParcel(lat, lng, wkbHash, parcelArea, \n                                            parcelAddress, parcelLabel, parcelLandUseCode.value,\n                                            parcelCadastralType);\n\n      // write WKB of the parcel to the OrbitDB/IPFS\n      context.parcelKVDB.put(wkbHash, props.geometryWKB);\n      context.setParcelGeoms(geoms => {\n        const geom = {'wkbHash': wkbHash, 'geom': props.geometryWKB }\n        const list = [...geoms, geom];\n        return list;\n    });\n\n      setTransactionHash(result);\n      setSnackbarOpen(true);\n      context.closeManageParcelDialog();\n    }\n  }\n\n   /**\n   * @dev Update Parcel onClick event handler\n   */\n\n  const handleUpdateParcel = async () => {\n    const label = ReactDOM.findDOMNode(labelRef.current).querySelector('input').value;\n    const address = ReactDOM.findDOMNode(addressRef.current).querySelector('input').value;\n    const area = ReactDOM.findDOMNode(areaRef.current).querySelector('input').value;\n    const _type = typeof(parcelLandUseCode.value) === 'undefined' ? context.parcelToUpdate.parcelLandUseCode : parcelLandUseCode.value;\n    \n    if (area.value === \"\" || area.value < 0 || label.value === \"\" || address.value === \"\" || _type === \"\") {\n      setFormValid(false);\n    }\n    else {\n      const parcelCadastralType = cadastralType ? CadastralTypeCode.BUILDING : CadastralTypeCode.PARCEL;\n\n      const result = await context.updateParcel(area, address, label, _type, parcelCadastralType);\n\n      setTransactionHash(result);\n      setSnackbarOpen(true);\n      context.closeManageParcelDialog();\n    }\n  }\n\n  /**\n   * \n   */\n  const handleCadastralTypeChange = event => {\n    // console.log(event.target.checked);\n    setCadastralType(cadastralType => !cadastralType);\n  }\n\n  /**\n   * @dev rendering\n   */\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        fullScreen\n        TransitionComponent={Transition}\n        PaperProps={{ style: { overflowY: 'visible' } }}\n        open={context.manageParcelDialogOpen}\n        onClose={context.closeManageParcelDialog}\n        aria-labelledby=\"draggable-dialog-title\"\n      >\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <IconButton edge=\"start\" color=\"inherit\" aria-label=\"close\" onClick={context.closeManageParcelDialog}>\n              <CloseIcon />\n            </IconButton>\n            <Typography variant=\"h6\" className={classes.title}>\n              {context.updateMode ? <span> Update parcel </span> : <span> Claim parcel</span>}\n            </Typography>\n            {context.updateMode ?\n              <Button autoFocus onClick={handleUpdateParcel} variant=\"contained\" color=\"secondary\">\n                Update\n              </Button>\n              :\n              <Button autoFocus onClick={handleClaimParcel} variant=\"contained\" color=\"secondary\">\n                Claim\n              </Button>\n            }\n          </Toolbar>\n        </AppBar>\n\n        <DialogContent style={{ overflowY: 'visible' }}>\n          <DialogContentText>\n            To {context.updateMode ? <span> update </span> : <span> claim</span>} this parcel, please fill-in the following informations.\n          </DialogContentText>\n\n          <Grid container spacing={1}>\n            <Grid item xs={12}>\n              <Paper style={{ padding: '1rem' }} className={classes.paper}>\n                <Typography component=\"div\">\n                  <Grid component=\"label\" container alignItems=\"center\" spacing={1}>\n                    <Grid item>Parcel</Grid>\n                    <Grid item>\n                      <AntSwitch\n                        checked={cadastralType}\n                        onChange={handleCadastralTypeChange}\n                      />\n                    </Grid>\n                    <Grid item>Building</Grid>\n                  </Grid>\n                </Typography>\n\n                <TextField\n                  autoFocus\n                  error={parcelLabel === \"\" && !formValid}\n                  margin=\"dense\"\n                  id=\"parcel-label\"\n                  label=\"Label\"\n                  fullWidth\n                  ref={labelRef}\n                  defaultValue={context.updateMode ? context.parcelToUpdate.lbl : \"\"}\n                  onChange={(evt) => setParcelLabel(evt.target.value)}\n                />\n                <ParcelLandUseCodeAutoList setParcelLandUseCode={setParcelLandUseCode}\n                  parcelLandUseCode={context.updateMode ? context.parcelToUpdate.parcelLandUseCode : \"\"} />\n                <TextField\n                  autoFocus\n                  error={parcelAddress === \"\" && !formValid}\n                  margin=\"dense\"\n                  id=\"parcel-address\"\n                  label=\"External Address\"\n                  fullWidth\n                  ref={addressRef}\n                  defaultValue={context.updateMode ? context.parcelToUpdate.addr : \"\"}\n                  onChange={(evt) => setParcelAddress(evt.target.value)}\n                />\n                <TextField\n                  autoFocus\n                  error={(parcelArea === \"\" && !formValid) || Number(parcelArea) < 0}\n                  margin=\"dense\"\n                  id=\"parcel-area\"\n                  type=\"number\"\n                  label=\"Area\"\n                  fullWidth\n                  ref={areaRef}\n                  defaultValue={context.updateMode ? context.parcelToUpdate.area : \"\"}\n                  onChange={(evt) => setParcelArea(evt.target.value)}\n                />\n              </Paper>\n            </Grid>\n          </Grid>\n        </DialogContent>\n      </Dialog>\n      <AppSnackbar snackbarOpen={snackbarOpen} transactionHash={transactionHash} />\n    </div>\n  )\n};\n","import React, { createRef } from 'react';\nimport { FeatureGroup } from 'react-leaflet';\nimport { EditControl } from 'react-leaflet-draw';\n\n\nexport default function FeatureGroupMapToolBar(props) {\n\n    const editFG = createRef();\n\n    const _onCreated = (e) => {\n        const fg = editFG.current;\n        props.onChange(e.layer.toGeoJSON());\n        if (fg != null) fg.layerContainer.removeLayer(e.layer);\n    }\n\n    return (\n        <FeatureGroup ref={editFG}>\n            <EditControl\n                position='topright'\n                onCreated={_onCreated}\n                \n                // onEdited={_onEditPath}\n                // onDeleted={_onDeleted}\n                draw={{\n                    rectangle: false,\n                    circle:false,\n                    circlemarker:false,\n                    polyline:false,\n                }}\n\n                edit={{\n                    edit: false,\n                    remove: false\n                }}\n            />\n            \n        </FeatureGroup>\n    );\n}","import React, { useState, useContext, useEffect, createRef } from 'react';\nimport { Map, TileLayer, Marker, Popup, GeoJSON } from \"react-leaflet\";\nimport Control from \"react-leaflet-control\";\nimport Fab from '@material-ui/core/Fab';\nimport EditIcon from '@material-ui/icons/Edit';\nimport MapIcon from '@material-ui/icons/Map';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport L from 'leaflet';\nimport wkx from 'wkx';\nimport gju from 'geojson-utils';\n\nimport DelaContext from '../context/dela-context';\nimport ManageParcelDialog from './ManageParcelDialog';\nimport ParcelDetails from './ParcelDetails';\nimport FeatureGroupMapToolBar from './FeatureGroupMapToolBar';\n\n/**\n * @dev map icons\n */\n\nconst lackingPoint = new L.Icon({\n  iconUrl: require('../assets/glyph-marker-icon.png'),\n  iconRetinaUrl: require('../assets/glyph-marker-icon.png'),\n  iconAnchor: [20, 40],\n  popupAnchor: [0, -35],\n  iconSize: [23, 40],\n});\n\nvar myStyle = {\n  \"color\": \"#ff7800\",\n  \"weight\": 5,\n  \"opacity\": 0.65\n};\n\n/**\n * @dev React-Leaflet functionnal component\n */\n\nexport default function MainMap(props) {\n\n  /**\n   * @notice state variables \n   */\n\n  const [addMode, setAddMode] = useState(false);\n  const [latlng, setLatLng] = useState({});\n  const [geometryWKB, setGeometryWKB] = useState(null);\n\n  const context = useContext(DelaContext);\n\n  const mapRef = createRef();\n  const position = [40.0, 3];\n  const zoom = 5;\n\n  /**\n   * @notice onClick event handler \n   */\n\n  const handleClick = (e) => {\n    // if (map != null) {\n    //   console.log(e.latlng);\n    // setLatLng(e.latlng);\n    // context.setUpdateMode(false);\n    // context.openManageParcelDialog(true);\n    // }\n  };\n\n  /**\n   * @notice center the map on the user location \n   */\n\n  useEffect(() => {\n    const map = mapRef.current\n    if (map != null) {\n      context.setMainMapReference(map);\n      map.leafletElement.locate()\n    }\n  }, []);\n\n  const handleLocationFound = (e) => {\n    const map = mapRef.current;\n    if (map != null) map.leafletElement.locate({ setView: true, maxZoom: zoom });\n  };\n\n  /**\n   * @notice handle feature creation event fired from the leaflet-drax toolbar\n   * @param geojson the GeoJSON of the created feature\n   */\n  const onFeatureCreation = (geojson) => {\n\n    var geometryWKB = wkx.Geometry.parseGeoJSON(geojson.geometry).toWkb();\n    setGeometryWKB(geometryWKB);\n\n    switch (geojson.geometry.type) {\n      case 'Point': {\n        const coords = geojson.geometry.coordinates;\n        setLatLng({ 'lat': coords[1], 'lng': coords[0] });\n        context.setUpdateMode(false);\n        context.openManageParcelDialog(true);\n        break;\n      }\n      case 'Polygon': {\n        var center = gju.rectangleCentroid(geojson.geometry);\n        const coords = center.coordinates;\n        setLatLng({ 'lat': coords[1], 'lng': coords[0] });\n        context.setUpdateMode(false);\n        context.openManageParcelDialog(true);\n        break;\n      }\n      default: console.log(geojson.geometry);\n    }\n  }\n\n  /**\n   * @notice Render the component\n   */\n\n  return (\n    <div>\n\n      <Map\n        center={position}\n        zoom={zoom}\n        onClick={(e) => { if (addMode) { handleClick(e) } }}\n        onLocationfound={handleLocationFound}\n        ref={mapRef}\n        style={addMode ? { cursor: 'crosshair' } : null}\n      >\n\n        <TileLayer\n          attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        />\n\n        {context.parcels.map((parcel, idx) => {\n          return parcel.owner === context.accounts[0] ?\n            <Marker position={parcel.latlng} key={`marker-${idx}`} icon={lackingPoint}>\n              <Popup>\n                <ParcelDetails parcel={parcel} owner={true} expansion={false} />\n              </Popup>\n            </Marker>\n            :\n            <Marker position={parcel.latlng} key={`marker-${idx}`} owner={false}>\n              <Popup>\n                <ParcelDetails parcel={parcel} expansion={false} />\n              </Popup>\n            </Marker>\n        })}\n        \n        {context.parcels.map((parcel) => {\n          var kvGeom = context.parcelGeoms.filter((geom) => geom.wkbHash === parcel.wkbHash)[0];\n           \n          if (typeof kvGeom !== 'undefined') {\n            var geojson = wkx.Geometry.parse(kvGeom.geom).toGeoJSON();\n            // console.log(geojson);\n            if (geojson.type === 'Polygon')\n              return (\n                <GeoJSON key={parcel.wkbHash}\n                  data={geojson}\n                  // data={context.parcelGeoms[parcel.wkbHash]}\n                  style={myStyle}\n                />\n              )\n          }                    \n        })}\n\n        {/* {context.parcels.map((parcel) => { console.log(parcel.wkbHash, context.parcelGeoms)\n        return (\n            <GeoJSON key={parcel.wkbHash}\n              data={wkx.Geometry.parse(wkb).toGeoJSON()}\n              // data={context.parcelGeoms[parcel.wkbHash]}\n              style={myStyle}\n            />\n          )})} */}\n\n        <Control>\n          <Fab color={addMode ? \"secondary\" : \"primary\"}\n            aria-label={addMode ? \"Add\" : \"View\"}\n            size={'medium'}\n            onClick={() => setAddMode(!addMode)}\n          >\n            {addMode ? <EditIcon /> : <Tooltip title=\"Edit\" aria-label=\"edit\"><MapIcon /></Tooltip>}\n          </Fab>\n        </Control>\n\n        {addMode && <FeatureGroupMapToolBar onChange={onFeatureCreation} />}\n\n        <ManageParcelDialog latlng={latlng} geometryWKB={geometryWKB} />\n      </Map>\n\n    </div>\n\n  );\n\n}","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport Logo from '../assets/parcels-icon.png';\n\nconst Footer = () => {\n    return (\n        <footer className='footer'>\n            <Grid container spacing={3} >\n                <Grid item xs={12} md={4} style={{ textAlign: 'center', padding: '2rem' }}>\n                    <img src={Logo} style={{ maxHeight: '100%', height: '90px' }}  alt={\"\"}/>\n                </Grid>\n                <Grid item xs={12} md={4} style={{ textAlign: 'center', padding: '2rem' }}>             \n                    <Link to='/'><Button color=\"secondary\" variant=\"outlined\">Map</Button></Link>\n                    <br/>                    \n                    <br/>                       \n                    <Link to='/dashboard'><Button color=\"secondary\" variant=\"contained\">Dashboard</Button></Link>\n                </Grid>\n                <Grid item xs={12} md={12} style={{ textAlign: 'center', padding: '0.5rem' , paddingTop: '0.1rem'}}>\n                    <p> 2019, Built with  by <a href='https://github.com/allilou'> Allilou</a></p>\n                </Grid>\n            </Grid>\n        </footer>\n    )\n}\n\nexport default Footer","import React, { Fragment } from \"react\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport AddLocationIcon from '@material-ui/icons/AddLocation';\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn';\nimport PowerIcon from '@material-ui/icons/Power';\nimport YouTube from 'react-youtube';\n\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\n\n\nimport Logo from '../assets/parcels-icon.png';\n\nimport Footer from './Footer';\n\nimport {\n  Link\n} from \"react-router-dom\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary,\n  },\n  title: {\n    color: 'white',\n    display: 'none',\n    [theme.breakpoints.up('sm')]: {\n      display: 'block',\n    },\n  },\n  appBar: {\n    backgroundColor: '#3f3d4b',\n  },\n\n  media: {\n    height: 0,\n    paddingTop: '56.25%', // 16:9\n  },\n}));\n\nexport default function About() {\n  const classes = useStyles();\n\n  const opts = {\n    height: '390',\n    width: '640',\n    playerVars: { // https://developers.google.com/youtube/player_parameters\n      autoplay: 1\n    }\n  };\n\n  return (\n    <Fragment>\n      <AppBar position=\"static\" className={classes.appBar}>\n        <Toolbar>\n          <Link to='/'>\n            <img src={Logo} style={{ maxHeight: '100%', height: '60px' }} alt={\"\"} />\n          </Link>\n          <Link to='/'>\n            <Typography className={classes.title} variant=\"h4\" noWrap>\n              DeLA\n          </Typography>\n          </Link>\n          <div className={classes.grow} />\n\n          <div>\n            <a href=\"https://github.com/allilou/onchain-land-administration\"><Button color=\"secondary\">Github</Button></a>\n            <Link to='/dashboard'><Button color=\"secondary\">Dashboard</Button></Link>\n            <Link to='/'><Button color=\"secondary\" variant=\"outlined\">Map</Button></Link>\n          </div>\n\n        </Toolbar>\n      </AppBar>\n\n      <div className=\"landingContainer\">\n        <div className={classes.root}>\n          <Grid container spacing={3} >\n            <Grid item xs={12} md={6} >\n              <div className='opening-blurb'>\n                <Typography variant='h3'> Claim your land parcel rights </Typography>\n                <hr />\n                <Typography variant='h5'>\n                  DeLA is <br />\n                  - a decentralized Crowd Sourcing Land Administration platform, <br />\n                  - a framework for geospatially enabled blockchain applications, <br />\n                  - an extensible platform for value added location based blochchain applications, <br />\n                  - an open source project.\n                </Typography>\n              </div>\n            </Grid>\n            <Grid item xs={12} md={6} style={{ textAlign: 'center' }}>\n              <Link to='/'>\n                <Button>\n                  <AddLocationIcon\n                    style={{ fontSize: 240, padding: '1rem', color: '#3F3D4B' }}\n                  />\n                </Button>\n              </Link>\n            </Grid>\n          </Grid>\n        </div>\n      </div>\n\n      <div className='blurb'>\n        <Grid container spacing={3} >\n          <Grid item xs={12} md={12} style={{ textAlign: 'center', padding: '5rem' }}>\n            <Typography variant='h3' style={{ color: \"white\" }}>\n              70% of the world's population has no access to formal land registration systems!\n            </Typography>\n          </Grid>\n        </Grid>\n      </div>\n\n      <div className='howitworks'>\n        <Grid container spacing={3} >\n          <Grid item xs={12} md={12} style={{ textAlign: 'center', padding: '2rem' }}>\n            <Typography variant='h2'>How it Works</Typography>\n          </Grid>\n          <Grid item xs={12} md={4} style={{ textAlign: 'center', padding: '2rem' }}>\n            <Paper style={{ padding: '1rem' }}>\n              <PowerIcon\n                style={{ fontSize: 100, padding: '1rem', color: '#58C685' }}\n              />\n              <Typography variant='h3' style={{ color: \"#58C685\", textAlign: 'left', transform: 'translate(0, -40px)' }}>1.</Typography>\n              <Typography variant='h6'>\n                Install <a href='https://metamask.io/'> Metamask </a> (an Ethereum wallet manager) plugin on your browser to interact with the applications.\n                Create an account and request ethers from the <a href='https://faucet.rinkeby.io/'> Rinkeby testnet faucet.</a> It's free of charge.\n              </Typography>\n            </Paper>\n          </Grid>\n          <Grid item xs={12} md={4} style={{ textAlign: 'center', padding: '2rem' }}>\n            <Paper style={{ padding: '1rem' }}>\n              <AddLocationIcon\n                style={{ fontSize: 100, padding: '1rem', color: '#58C685' }}\n              />\n              <Typography variant='h3' style={{ color: \"#58C685\", textAlign: 'left', transform: 'translate(0, -40px)' }}>2.</Typography>\n              <Typography variant='h6'>\n                Claim a land parcel on the map directly by selecting an existing one or draw yours.\n                The recorded informations are directly stored on the Ethereum blockchain and the geometry of your parcel is stored on an OrbitDB IPFS database.\n              </Typography>\n            </Paper>\n          </Grid>\n          <Grid item xs={12} md={4} style={{ textAlign: 'center', padding: '2rem' }}>\n            <Paper style={{ padding: '1rem' }}>\n              <MonetizationOnIcon\n                style={{ fontSize: 100, padding: '1rem', color: '#58C685' }}\n              />\n              <Typography variant='h3' style={{ color: \"#58C685\", textAlign: 'left', transform: 'translate(0, -40px)' }}>3.</Typography>\n              <Typography variant='h6'>\n                Simply sit back, relax and receive contious bids for your rights.\n                If other users think that they have rights on the parcel you claim, they have the right to dispute it to you.\n              </Typography>\n            </Paper>\n          </Grid>\n        </Grid>\n      </div>\n      <div className='blurb'>\n        <Grid container spacing={3} >\n          <Grid item xs={12} md={12} style={{ textAlign: 'center', padding: '5rem' }}>\n            <YouTube\n                videoId=\"zqujtNPP8rU\"\n                opts={opts}\n              />\n          </Grid>\n        </Grid>\n      </div>\n\n      <Footer />\n\n    </Fragment>\n  );\n}\n","import React, { Fragment } from \"react\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\n\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\n\n\nimport Logo from '../assets/parcels-icon.png';\n\nimport Footer from './Footer';\n\nimport {\n  Link\n} from \"react-router-dom\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary,\n  },\n  title: {\n    color: 'white',\n    display: 'none',\n    [theme.breakpoints.up('sm')]: {\n      display: 'block',\n    },\n  },\n  appBar: {\n    backgroundColor: '#3f3d4b',\n},\n}));\n\nexport default function About() {\n  const classes = useStyles();\n\n  return (\n    <Fragment>\n      <AppBar position=\"static\"  className={classes.appBar}>\n        <Toolbar>\n          <Link to='/'>\n            <img src={Logo} style={{ maxHeight: '100%', height: '60px' }}  alt={\"\"}/>\n          </Link>\n          <Link to='/'>\n            <Typography className={classes.title} variant=\"h4\" noWrap>\n              DeLA\n          </Typography>\n          </Link>\n          <div className={classes.grow} />\n          \n          <div>\n            <a href=\"https://github.com/allilou/onchain-land-administration\"><Button color=\"secondary\">Github</Button></a>\n            <Link to='/about'><Button color=\"secondary\">About</Button></Link>\n            <Link to='/'><Button color=\"secondary\" variant=\"outlined\">Map</Button></Link>\n          </div>\n         \n        </Toolbar>\n      </AppBar>\n\n      <div className=\"landingContainer\">\n        <div className={classes.root}>\n          <Grid container spacing={3}>\n            <Grid item xs={12} md={6}>\n              <div className='opening-blurb'>\n                <Typography variant='h3'> Dashboard </Typography>\n                <hr />\n                \n              </div>\n            </Grid>\n            \n          </Grid>\n        </div>\n      </div>\n\n      <Footer />\n\n    </Fragment>\n  );\n}\n","import React from \"react\";\nimport './App.css';\nimport { CssBaseline } from \"@material-ui/core\";\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\n\nimport GlobalState from './context/GlobalState';\nimport MainAppBar from './components/MainAppBar';\nimport MainDrawer from './components/MainDrawer';\nimport MainMap from './components/MainMap';\n\nimport About from './pages/About';\nimport Dashboard from './pages/Dashboard';\n\n/**\n * @notice Global App Theme\n */\nconst theme = createMuiTheme({\n  palette: {\n    type: 'dark', // dark : light    \n  },\n  typography: {\n    fontFamily: 'Lato, Helvetica, sans-serif',\n    fontWeight: 700\n  }\n});\n\n/**\n * @dev the Main App component\n * @param {*} props \n */\nexport default function App(props) {\n\n  /**\n   * @notice state variables \n   */\n\n  /** \n   * @notice rendering the component \n   */\n\n  return (\n    <div className=\"App\">\n      <GlobalState>\n        <ThemeProvider theme={theme}>\n          <Router>\n            <CssBaseline />\n            \n            <Switch>\n\n              <Route path=\"/about\">\n                <About />\n              </Route>\n\n              <Route path=\"/dashboard\">\n                <Dashboard />\n              </Route>\n              \n              <Route path=\"/\">\n                <MainDrawer />\n                <MainAppBar />\n                <MainMap />\n              </Route>\n\n            </Switch>\n\n          </Router>\n        </ThemeProvider>\n      </GlobalState>\n    </div>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}